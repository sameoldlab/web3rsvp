"use strict";(()=>{var wi=Object.create;var en=Object.defineProperty;var Mi=Object.getOwnPropertyDescriptor;var Ai=Object.getOwnPropertyNames;var _i=Object.getPrototypeOf,Ti=Object.prototype.hasOwnProperty;var nn=(o=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(o,{get:(r,e)=>(typeof require!="undefined"?require:r)[e]}):o)(function(o){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+o+'" is not supported')});var _t=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports);var Ei=(o,r,e,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of Ai(r))!Ti.call(o,n)&&n!==e&&en(o,n,{get:()=>r[n],enumerable:!(a=Mi(r,n))||a.enumerable});return o};var on=(o,r,e)=>(e=o!=null?wi(_i(o)):{},Ei(r||!o||!o.__esModule?en(e,"default",{value:o,enumerable:!0}):e,o));var sn=(o,r,e)=>{if(!r.has(o))throw TypeError("Cannot "+e)};var sr=(o,r,e)=>(sn(o,r,"read from private field"),e?e.call(o):r.get(o)),Rr=(o,r,e)=>{if(r.has(o))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(o):r.set(o,e)},Sr=(o,r,e,a)=>(sn(o,r,"write to private field"),a?a.call(o,e):r.set(o,e),e);var xn=_t((vn,be)=>{(function(o,r){"use strict";function e(p,t){if(!p)throw new Error(t||"Assertion failed")}function a(p,t){p.super_=t;var s=function(){};s.prototype=t.prototype,p.prototype=new s,p.prototype.constructor=p}function n(p,t,s){if(n.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((t==="le"||t==="be")&&(s=t,t=10),this._init(p||0,t||10,s||"be"))}typeof o=="object"?o.exports=n:r.BN=n,n.BN=n,n.wordSize=26;var d;try{typeof window<"u"&&typeof window.Buffer<"u"?d=window.Buffer:d=nn("buffer").Buffer}catch{}n.isBN=function(t){return t instanceof n?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,s){return t.cmp(s)>0?t:s},n.min=function(t,s){return t.cmp(s)<0?t:s},n.prototype._init=function(t,s,f){if(typeof t=="number")return this._initNumber(t,s,f);if(typeof t=="object")return this._initArray(t,s,f);s==="hex"&&(s=16),e(s===(s|0)&&s>=2&&s<=36),t=t.toString().replace(/\s+/g,"");var h=0;t[0]==="-"&&(h++,this.negative=1),h<t.length&&(s===16?this._parseHex(t,h,f):(this._parseBase(t,s,h),f==="le"&&this._initArray(this.toArray(),s,f)))},n.prototype._initNumber=function(t,s,f){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(e(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),s,f)},n.prototype._initArray=function(t,s,f){if(e(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var u,m,g=0;if(f==="be")for(h=t.length-1,u=0;h>=0;h-=3)m=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[u]|=m<<g&67108863,this.words[u+1]=m>>>26-g&67108863,g+=24,g>=26&&(g-=26,u++);else if(f==="le")for(h=0,u=0;h<t.length;h+=3)m=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[u]|=m<<g&67108863,this.words[u+1]=m>>>26-g&67108863,g+=24,g>=26&&(g-=26,u++);return this._strip()};function y(p,t){var s=p.charCodeAt(t);if(s>=48&&s<=57)return s-48;if(s>=65&&s<=70)return s-55;if(s>=97&&s<=102)return s-87;e(!1,"Invalid character in "+p)}function v(p,t,s){var f=y(p,s);return s-1>=t&&(f|=y(p,s-1)<<4),f}n.prototype._parseHex=function(t,s,f){this.length=Math.ceil((t.length-s)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var u=0,m=0,g;if(f==="be")for(h=t.length-1;h>=s;h-=2)g=v(t,s,h)<<u,this.words[m]|=g&67108863,u>=18?(u-=18,m+=1,this.words[m]|=g>>>26):u+=8;else{var l=t.length-s;for(h=l%2===0?s+1:s;h<t.length;h+=2)g=v(t,s,h)<<u,this.words[m]|=g&67108863,u>=18?(u-=18,m+=1,this.words[m]|=g>>>26):u+=8}this._strip()};function x(p,t,s,f){for(var h=0,u=0,m=Math.min(p.length,s),g=t;g<m;g++){var l=p.charCodeAt(g)-48;h*=f,l>=49?u=l-49+10:l>=17?u=l-17+10:u=l,e(l>=0&&u<f,"Invalid character"),h+=u}return h}n.prototype._parseBase=function(t,s,f){this.words=[0],this.length=1;for(var h=0,u=1;u<=67108863;u*=s)h++;h--,u=u/s|0;for(var m=t.length-f,g=m%h,l=Math.min(m,m-g)+f,i=0,c=f;c<l;c+=h)i=x(t,c,c+h,s),this.imuln(u),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i);if(g!==0){var w=1;for(i=x(t,c,t.length,s),c=0;c<g;c++)w*=s;this.imuln(w),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i)}this._strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var s=0;s<this.length;s++)t.words[s]=this.words[s];t.length=this.length,t.negative=this.negative,t.red=this.red};function b(p,t){p.words=t.words,p.length=t.length,p.negative=t.negative,p.red=t.red}if(n.prototype._move=function(t){b(t,this)},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{n.prototype.inspect=A}else n.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],O=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(t,s){t=t||10,s=s|0||1;var f;if(t===16||t==="hex"){f="";for(var h=0,u=0,m=0;m<this.length;m++){var g=this.words[m],l=((g<<h|u)&16777215).toString(16);u=g>>>24-h&16777215,h+=2,h>=26&&(h-=26,m--),u!==0||m!==this.length-1?f=T[6-l.length]+l+f:f=l+f}for(u!==0&&(f=u.toString(16)+f);f.length%s!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(t===(t|0)&&t>=2&&t<=36){var i=O[t],c=C[t];f="";var w=this.clone();for(w.negative=0;!w.isZero();){var M=w.modrn(c).toString(t);w=w.idivn(c),w.isZero()?f=M+f:f=T[i-M.length]+M+f}for(this.isZero()&&(f="0"+f);f.length%s!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}e(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},n.prototype.toJSON=function(){return this.toString(16,2)},d&&(n.prototype.toBuffer=function(t,s){return this.toArrayLike(d,t,s)}),n.prototype.toArray=function(t,s){return this.toArrayLike(Array,t,s)};var S=function(t,s){return t.allocUnsafe?t.allocUnsafe(s):new t(s)};n.prototype.toArrayLike=function(t,s,f){this._strip();var h=this.byteLength(),u=f||Math.max(1,h);e(h<=u,"byte array longer than desired length"),e(u>0,"Requested array length <= 0");var m=S(t,u),g=s==="le"?"LE":"BE";return this["_toArrayLike"+g](m,h),m},n.prototype._toArrayLikeLE=function(t,s){for(var f=0,h=0,u=0,m=0;u<this.length;u++){var g=this.words[u]<<m|h;t[f++]=g&255,f<t.length&&(t[f++]=g>>8&255),f<t.length&&(t[f++]=g>>16&255),m===6?(f<t.length&&(t[f++]=g>>24&255),h=0,m=0):(h=g>>>24,m+=2)}if(f<t.length)for(t[f++]=h;f<t.length;)t[f++]=0},n.prototype._toArrayLikeBE=function(t,s){for(var f=t.length-1,h=0,u=0,m=0;u<this.length;u++){var g=this.words[u]<<m|h;t[f--]=g&255,f>=0&&(t[f--]=g>>8&255),f>=0&&(t[f--]=g>>16&255),m===6?(f>=0&&(t[f--]=g>>24&255),h=0,m=0):(h=g>>>24,m+=2)}if(f>=0)for(t[f--]=h;f>=0;)t[f--]=0},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var s=t,f=0;return s>=4096&&(f+=13,s>>>=13),s>=64&&(f+=7,s>>>=7),s>=8&&(f+=4,s>>>=4),s>=2&&(f+=2,s>>>=2),f+s},n.prototype._zeroBits=function(t){if(t===0)return 26;var s=t,f=0;return(s&8191)===0&&(f+=13,s>>>=13),(s&127)===0&&(f+=7,s>>>=7),(s&15)===0&&(f+=4,s>>>=4),(s&3)===0&&(f+=2,s>>>=2),(s&1)===0&&f++,f},n.prototype.bitLength=function(){var t=this.words[this.length-1],s=this._countBits(t);return(this.length-1)*26+s};function Tt(p){for(var t=new Array(p.bitLength()),s=0;s<t.length;s++){var f=s/26|0,h=s%26;t[s]=p.words[f]>>>h&1}return t}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,s=0;s<this.length;s++){var f=this._zeroBits(this.words[s]);if(t+=f,f!==26)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var s=0;s<t.length;s++)this.words[s]=this.words[s]|t.words[s];return this._strip()},n.prototype.ior=function(t){return e((this.negative|t.negative)===0),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var s;this.length>t.length?s=t:s=this;for(var f=0;f<s.length;f++)this.words[f]=this.words[f]&t.words[f];return this.length=s.length,this._strip()},n.prototype.iand=function(t){return e((this.negative|t.negative)===0),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var s,f;this.length>t.length?(s=this,f=t):(s=t,f=this);for(var h=0;h<f.length;h++)this.words[h]=s.words[h]^f.words[h];if(this!==s)for(;h<s.length;h++)this.words[h]=s.words[h];return this.length=s.length,this._strip()},n.prototype.ixor=function(t){return e((this.negative|t.negative)===0),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){e(typeof t=="number"&&t>=0);var s=Math.ceil(t/26)|0,f=t%26;this._expand(s),f>0&&s--;for(var h=0;h<s;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this._strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,s){e(typeof t=="number"&&t>=0);var f=t/26|0,h=t%26;return this._expand(f+1),s?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this._strip()},n.prototype.iadd=function(t){var s;if(this.negative!==0&&t.negative===0)return this.negative=0,s=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,s=this.isub(t),t.negative=1,s._normSign();var f,h;this.length>t.length?(f=this,h=t):(f=t,h=this);for(var u=0,m=0;m<h.length;m++)s=(f.words[m]|0)+(h.words[m]|0)+u,this.words[m]=s&67108863,u=s>>>26;for(;u!==0&&m<f.length;m++)s=(f.words[m]|0)+u,this.words[m]=s&67108863,u=s>>>26;if(this.length=f.length,u!==0)this.words[this.length]=u,this.length++;else if(f!==this)for(;m<f.length;m++)this.words[m]=f.words[m];return this},n.prototype.add=function(t){var s;return t.negative!==0&&this.negative===0?(t.negative=0,s=this.sub(t),t.negative^=1,s):t.negative===0&&this.negative!==0?(this.negative=0,s=t.sub(this),this.negative=1,s):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var s=this.iadd(t);return t.negative=1,s._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var f=this.cmp(t);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,u;f>0?(h=this,u=t):(h=t,u=this);for(var m=0,g=0;g<u.length;g++)s=(h.words[g]|0)-(u.words[g]|0)+m,m=s>>26,this.words[g]=s&67108863;for(;m!==0&&g<h.length;g++)s=(h.words[g]|0)+m,m=s>>26,this.words[g]=s&67108863;if(m===0&&g<h.length&&h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this.length=Math.max(this.length,g),h!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(t){return this.clone().isub(t)};function Rt(p,t,s){s.negative=t.negative^p.negative;var f=p.length+t.length|0;s.length=f,f=f-1|0;var h=p.words[0]|0,u=t.words[0]|0,m=h*u,g=m&67108863,l=m/67108864|0;s.words[0]=g;for(var i=1;i<f;i++){for(var c=l>>>26,w=l&67108863,M=Math.min(i,t.length-1),_=Math.max(0,i-p.length+1);_<=M;_++){var E=i-_|0;h=p.words[E]|0,u=t.words[_]|0,m=h*u+w,c+=m/67108864|0,w=m&67108863}s.words[i]=w|0,l=c|0}return l!==0?s.words[i]=l|0:s.length--,s._strip()}var Xt=function(t,s,f){var h=t.words,u=s.words,m=f.words,g=0,l,i,c,w=h[0]|0,M=w&8191,_=w>>>13,E=h[1]|0,I=E&8191,B=E>>>13,Qt=h[2]|0,F=Qt&8191,D=Qt>>>13,ke=h[3]|0,k=ke&8191,V=ke>>>13,Ve=h[4]|0,q=Ve&8191,J=Ve>>>13,qe=h[5]|0,z=qe&8191,$=qe>>>13,Je=h[6]|0,H=Je&8191,Z=Je>>>13,ze=h[7]|0,W=ze&8191,G=ze>>>13,$e=h[8]|0,K=$e&8191,X=$e>>>13,He=h[9]|0,Y=He&8191,Q=He>>>13,Ze=u[0]|0,j=Ze&8191,tt=Ze>>>13,We=u[1]|0,rt=We&8191,et=We>>>13,Ge=u[2]|0,nt=Ge&8191,it=Ge>>>13,Ke=u[3]|0,ot=Ke&8191,st=Ke>>>13,Xe=u[4]|0,at=Xe&8191,ft=Xe>>>13,Ye=u[5]|0,ht=Ye&8191,ut=Ye>>>13,Qe=u[6]|0,lt=Qe&8191,ct=Qe>>>13,je=u[7]|0,dt=je&8191,pt=je>>>13,tn=u[8]|0,mt=tn&8191,gt=tn>>>13,rn=u[9]|0,yt=rn&8191,vt=rn>>>13;f.negative=t.negative^s.negative,f.length=19,l=Math.imul(M,j),i=Math.imul(M,tt),i=i+Math.imul(_,j)|0,c=Math.imul(_,tt);var Qr=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,l=Math.imul(I,j),i=Math.imul(I,tt),i=i+Math.imul(B,j)|0,c=Math.imul(B,tt),l=l+Math.imul(M,rt)|0,i=i+Math.imul(M,et)|0,i=i+Math.imul(_,rt)|0,c=c+Math.imul(_,et)|0;var jr=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(jr>>>26)|0,jr&=67108863,l=Math.imul(F,j),i=Math.imul(F,tt),i=i+Math.imul(D,j)|0,c=Math.imul(D,tt),l=l+Math.imul(I,rt)|0,i=i+Math.imul(I,et)|0,i=i+Math.imul(B,rt)|0,c=c+Math.imul(B,et)|0,l=l+Math.imul(M,nt)|0,i=i+Math.imul(M,it)|0,i=i+Math.imul(_,nt)|0,c=c+Math.imul(_,it)|0;var te=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(te>>>26)|0,te&=67108863,l=Math.imul(k,j),i=Math.imul(k,tt),i=i+Math.imul(V,j)|0,c=Math.imul(V,tt),l=l+Math.imul(F,rt)|0,i=i+Math.imul(F,et)|0,i=i+Math.imul(D,rt)|0,c=c+Math.imul(D,et)|0,l=l+Math.imul(I,nt)|0,i=i+Math.imul(I,it)|0,i=i+Math.imul(B,nt)|0,c=c+Math.imul(B,it)|0,l=l+Math.imul(M,ot)|0,i=i+Math.imul(M,st)|0,i=i+Math.imul(_,ot)|0,c=c+Math.imul(_,st)|0;var re=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(re>>>26)|0,re&=67108863,l=Math.imul(q,j),i=Math.imul(q,tt),i=i+Math.imul(J,j)|0,c=Math.imul(J,tt),l=l+Math.imul(k,rt)|0,i=i+Math.imul(k,et)|0,i=i+Math.imul(V,rt)|0,c=c+Math.imul(V,et)|0,l=l+Math.imul(F,nt)|0,i=i+Math.imul(F,it)|0,i=i+Math.imul(D,nt)|0,c=c+Math.imul(D,it)|0,l=l+Math.imul(I,ot)|0,i=i+Math.imul(I,st)|0,i=i+Math.imul(B,ot)|0,c=c+Math.imul(B,st)|0,l=l+Math.imul(M,at)|0,i=i+Math.imul(M,ft)|0,i=i+Math.imul(_,at)|0,c=c+Math.imul(_,ft)|0;var ee=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(ee>>>26)|0,ee&=67108863,l=Math.imul(z,j),i=Math.imul(z,tt),i=i+Math.imul($,j)|0,c=Math.imul($,tt),l=l+Math.imul(q,rt)|0,i=i+Math.imul(q,et)|0,i=i+Math.imul(J,rt)|0,c=c+Math.imul(J,et)|0,l=l+Math.imul(k,nt)|0,i=i+Math.imul(k,it)|0,i=i+Math.imul(V,nt)|0,c=c+Math.imul(V,it)|0,l=l+Math.imul(F,ot)|0,i=i+Math.imul(F,st)|0,i=i+Math.imul(D,ot)|0,c=c+Math.imul(D,st)|0,l=l+Math.imul(I,at)|0,i=i+Math.imul(I,ft)|0,i=i+Math.imul(B,at)|0,c=c+Math.imul(B,ft)|0,l=l+Math.imul(M,ht)|0,i=i+Math.imul(M,ut)|0,i=i+Math.imul(_,ht)|0,c=c+Math.imul(_,ut)|0;var ne=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(ne>>>26)|0,ne&=67108863,l=Math.imul(H,j),i=Math.imul(H,tt),i=i+Math.imul(Z,j)|0,c=Math.imul(Z,tt),l=l+Math.imul(z,rt)|0,i=i+Math.imul(z,et)|0,i=i+Math.imul($,rt)|0,c=c+Math.imul($,et)|0,l=l+Math.imul(q,nt)|0,i=i+Math.imul(q,it)|0,i=i+Math.imul(J,nt)|0,c=c+Math.imul(J,it)|0,l=l+Math.imul(k,ot)|0,i=i+Math.imul(k,st)|0,i=i+Math.imul(V,ot)|0,c=c+Math.imul(V,st)|0,l=l+Math.imul(F,at)|0,i=i+Math.imul(F,ft)|0,i=i+Math.imul(D,at)|0,c=c+Math.imul(D,ft)|0,l=l+Math.imul(I,ht)|0,i=i+Math.imul(I,ut)|0,i=i+Math.imul(B,ht)|0,c=c+Math.imul(B,ut)|0,l=l+Math.imul(M,lt)|0,i=i+Math.imul(M,ct)|0,i=i+Math.imul(_,lt)|0,c=c+Math.imul(_,ct)|0;var ie=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(ie>>>26)|0,ie&=67108863,l=Math.imul(W,j),i=Math.imul(W,tt),i=i+Math.imul(G,j)|0,c=Math.imul(G,tt),l=l+Math.imul(H,rt)|0,i=i+Math.imul(H,et)|0,i=i+Math.imul(Z,rt)|0,c=c+Math.imul(Z,et)|0,l=l+Math.imul(z,nt)|0,i=i+Math.imul(z,it)|0,i=i+Math.imul($,nt)|0,c=c+Math.imul($,it)|0,l=l+Math.imul(q,ot)|0,i=i+Math.imul(q,st)|0,i=i+Math.imul(J,ot)|0,c=c+Math.imul(J,st)|0,l=l+Math.imul(k,at)|0,i=i+Math.imul(k,ft)|0,i=i+Math.imul(V,at)|0,c=c+Math.imul(V,ft)|0,l=l+Math.imul(F,ht)|0,i=i+Math.imul(F,ut)|0,i=i+Math.imul(D,ht)|0,c=c+Math.imul(D,ut)|0,l=l+Math.imul(I,lt)|0,i=i+Math.imul(I,ct)|0,i=i+Math.imul(B,lt)|0,c=c+Math.imul(B,ct)|0,l=l+Math.imul(M,dt)|0,i=i+Math.imul(M,pt)|0,i=i+Math.imul(_,dt)|0,c=c+Math.imul(_,pt)|0;var oe=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(oe>>>26)|0,oe&=67108863,l=Math.imul(K,j),i=Math.imul(K,tt),i=i+Math.imul(X,j)|0,c=Math.imul(X,tt),l=l+Math.imul(W,rt)|0,i=i+Math.imul(W,et)|0,i=i+Math.imul(G,rt)|0,c=c+Math.imul(G,et)|0,l=l+Math.imul(H,nt)|0,i=i+Math.imul(H,it)|0,i=i+Math.imul(Z,nt)|0,c=c+Math.imul(Z,it)|0,l=l+Math.imul(z,ot)|0,i=i+Math.imul(z,st)|0,i=i+Math.imul($,ot)|0,c=c+Math.imul($,st)|0,l=l+Math.imul(q,at)|0,i=i+Math.imul(q,ft)|0,i=i+Math.imul(J,at)|0,c=c+Math.imul(J,ft)|0,l=l+Math.imul(k,ht)|0,i=i+Math.imul(k,ut)|0,i=i+Math.imul(V,ht)|0,c=c+Math.imul(V,ut)|0,l=l+Math.imul(F,lt)|0,i=i+Math.imul(F,ct)|0,i=i+Math.imul(D,lt)|0,c=c+Math.imul(D,ct)|0,l=l+Math.imul(I,dt)|0,i=i+Math.imul(I,pt)|0,i=i+Math.imul(B,dt)|0,c=c+Math.imul(B,pt)|0,l=l+Math.imul(M,mt)|0,i=i+Math.imul(M,gt)|0,i=i+Math.imul(_,mt)|0,c=c+Math.imul(_,gt)|0;var se=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(se>>>26)|0,se&=67108863,l=Math.imul(Y,j),i=Math.imul(Y,tt),i=i+Math.imul(Q,j)|0,c=Math.imul(Q,tt),l=l+Math.imul(K,rt)|0,i=i+Math.imul(K,et)|0,i=i+Math.imul(X,rt)|0,c=c+Math.imul(X,et)|0,l=l+Math.imul(W,nt)|0,i=i+Math.imul(W,it)|0,i=i+Math.imul(G,nt)|0,c=c+Math.imul(G,it)|0,l=l+Math.imul(H,ot)|0,i=i+Math.imul(H,st)|0,i=i+Math.imul(Z,ot)|0,c=c+Math.imul(Z,st)|0,l=l+Math.imul(z,at)|0,i=i+Math.imul(z,ft)|0,i=i+Math.imul($,at)|0,c=c+Math.imul($,ft)|0,l=l+Math.imul(q,ht)|0,i=i+Math.imul(q,ut)|0,i=i+Math.imul(J,ht)|0,c=c+Math.imul(J,ut)|0,l=l+Math.imul(k,lt)|0,i=i+Math.imul(k,ct)|0,i=i+Math.imul(V,lt)|0,c=c+Math.imul(V,ct)|0,l=l+Math.imul(F,dt)|0,i=i+Math.imul(F,pt)|0,i=i+Math.imul(D,dt)|0,c=c+Math.imul(D,pt)|0,l=l+Math.imul(I,mt)|0,i=i+Math.imul(I,gt)|0,i=i+Math.imul(B,mt)|0,c=c+Math.imul(B,gt)|0,l=l+Math.imul(M,yt)|0,i=i+Math.imul(M,vt)|0,i=i+Math.imul(_,yt)|0,c=c+Math.imul(_,vt)|0;var ae=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(ae>>>26)|0,ae&=67108863,l=Math.imul(Y,rt),i=Math.imul(Y,et),i=i+Math.imul(Q,rt)|0,c=Math.imul(Q,et),l=l+Math.imul(K,nt)|0,i=i+Math.imul(K,it)|0,i=i+Math.imul(X,nt)|0,c=c+Math.imul(X,it)|0,l=l+Math.imul(W,ot)|0,i=i+Math.imul(W,st)|0,i=i+Math.imul(G,ot)|0,c=c+Math.imul(G,st)|0,l=l+Math.imul(H,at)|0,i=i+Math.imul(H,ft)|0,i=i+Math.imul(Z,at)|0,c=c+Math.imul(Z,ft)|0,l=l+Math.imul(z,ht)|0,i=i+Math.imul(z,ut)|0,i=i+Math.imul($,ht)|0,c=c+Math.imul($,ut)|0,l=l+Math.imul(q,lt)|0,i=i+Math.imul(q,ct)|0,i=i+Math.imul(J,lt)|0,c=c+Math.imul(J,ct)|0,l=l+Math.imul(k,dt)|0,i=i+Math.imul(k,pt)|0,i=i+Math.imul(V,dt)|0,c=c+Math.imul(V,pt)|0,l=l+Math.imul(F,mt)|0,i=i+Math.imul(F,gt)|0,i=i+Math.imul(D,mt)|0,c=c+Math.imul(D,gt)|0,l=l+Math.imul(I,yt)|0,i=i+Math.imul(I,vt)|0,i=i+Math.imul(B,yt)|0,c=c+Math.imul(B,vt)|0;var fe=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(fe>>>26)|0,fe&=67108863,l=Math.imul(Y,nt),i=Math.imul(Y,it),i=i+Math.imul(Q,nt)|0,c=Math.imul(Q,it),l=l+Math.imul(K,ot)|0,i=i+Math.imul(K,st)|0,i=i+Math.imul(X,ot)|0,c=c+Math.imul(X,st)|0,l=l+Math.imul(W,at)|0,i=i+Math.imul(W,ft)|0,i=i+Math.imul(G,at)|0,c=c+Math.imul(G,ft)|0,l=l+Math.imul(H,ht)|0,i=i+Math.imul(H,ut)|0,i=i+Math.imul(Z,ht)|0,c=c+Math.imul(Z,ut)|0,l=l+Math.imul(z,lt)|0,i=i+Math.imul(z,ct)|0,i=i+Math.imul($,lt)|0,c=c+Math.imul($,ct)|0,l=l+Math.imul(q,dt)|0,i=i+Math.imul(q,pt)|0,i=i+Math.imul(J,dt)|0,c=c+Math.imul(J,pt)|0,l=l+Math.imul(k,mt)|0,i=i+Math.imul(k,gt)|0,i=i+Math.imul(V,mt)|0,c=c+Math.imul(V,gt)|0,l=l+Math.imul(F,yt)|0,i=i+Math.imul(F,vt)|0,i=i+Math.imul(D,yt)|0,c=c+Math.imul(D,vt)|0;var he=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(he>>>26)|0,he&=67108863,l=Math.imul(Y,ot),i=Math.imul(Y,st),i=i+Math.imul(Q,ot)|0,c=Math.imul(Q,st),l=l+Math.imul(K,at)|0,i=i+Math.imul(K,ft)|0,i=i+Math.imul(X,at)|0,c=c+Math.imul(X,ft)|0,l=l+Math.imul(W,ht)|0,i=i+Math.imul(W,ut)|0,i=i+Math.imul(G,ht)|0,c=c+Math.imul(G,ut)|0,l=l+Math.imul(H,lt)|0,i=i+Math.imul(H,ct)|0,i=i+Math.imul(Z,lt)|0,c=c+Math.imul(Z,ct)|0,l=l+Math.imul(z,dt)|0,i=i+Math.imul(z,pt)|0,i=i+Math.imul($,dt)|0,c=c+Math.imul($,pt)|0,l=l+Math.imul(q,mt)|0,i=i+Math.imul(q,gt)|0,i=i+Math.imul(J,mt)|0,c=c+Math.imul(J,gt)|0,l=l+Math.imul(k,yt)|0,i=i+Math.imul(k,vt)|0,i=i+Math.imul(V,yt)|0,c=c+Math.imul(V,vt)|0;var ue=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(ue>>>26)|0,ue&=67108863,l=Math.imul(Y,at),i=Math.imul(Y,ft),i=i+Math.imul(Q,at)|0,c=Math.imul(Q,ft),l=l+Math.imul(K,ht)|0,i=i+Math.imul(K,ut)|0,i=i+Math.imul(X,ht)|0,c=c+Math.imul(X,ut)|0,l=l+Math.imul(W,lt)|0,i=i+Math.imul(W,ct)|0,i=i+Math.imul(G,lt)|0,c=c+Math.imul(G,ct)|0,l=l+Math.imul(H,dt)|0,i=i+Math.imul(H,pt)|0,i=i+Math.imul(Z,dt)|0,c=c+Math.imul(Z,pt)|0,l=l+Math.imul(z,mt)|0,i=i+Math.imul(z,gt)|0,i=i+Math.imul($,mt)|0,c=c+Math.imul($,gt)|0,l=l+Math.imul(q,yt)|0,i=i+Math.imul(q,vt)|0,i=i+Math.imul(J,yt)|0,c=c+Math.imul(J,vt)|0;var le=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(le>>>26)|0,le&=67108863,l=Math.imul(Y,ht),i=Math.imul(Y,ut),i=i+Math.imul(Q,ht)|0,c=Math.imul(Q,ut),l=l+Math.imul(K,lt)|0,i=i+Math.imul(K,ct)|0,i=i+Math.imul(X,lt)|0,c=c+Math.imul(X,ct)|0,l=l+Math.imul(W,dt)|0,i=i+Math.imul(W,pt)|0,i=i+Math.imul(G,dt)|0,c=c+Math.imul(G,pt)|0,l=l+Math.imul(H,mt)|0,i=i+Math.imul(H,gt)|0,i=i+Math.imul(Z,mt)|0,c=c+Math.imul(Z,gt)|0,l=l+Math.imul(z,yt)|0,i=i+Math.imul(z,vt)|0,i=i+Math.imul($,yt)|0,c=c+Math.imul($,vt)|0;var ce=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(ce>>>26)|0,ce&=67108863,l=Math.imul(Y,lt),i=Math.imul(Y,ct),i=i+Math.imul(Q,lt)|0,c=Math.imul(Q,ct),l=l+Math.imul(K,dt)|0,i=i+Math.imul(K,pt)|0,i=i+Math.imul(X,dt)|0,c=c+Math.imul(X,pt)|0,l=l+Math.imul(W,mt)|0,i=i+Math.imul(W,gt)|0,i=i+Math.imul(G,mt)|0,c=c+Math.imul(G,gt)|0,l=l+Math.imul(H,yt)|0,i=i+Math.imul(H,vt)|0,i=i+Math.imul(Z,yt)|0,c=c+Math.imul(Z,vt)|0;var de=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(de>>>26)|0,de&=67108863,l=Math.imul(Y,dt),i=Math.imul(Y,pt),i=i+Math.imul(Q,dt)|0,c=Math.imul(Q,pt),l=l+Math.imul(K,mt)|0,i=i+Math.imul(K,gt)|0,i=i+Math.imul(X,mt)|0,c=c+Math.imul(X,gt)|0,l=l+Math.imul(W,yt)|0,i=i+Math.imul(W,vt)|0,i=i+Math.imul(G,yt)|0,c=c+Math.imul(G,vt)|0;var pe=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(pe>>>26)|0,pe&=67108863,l=Math.imul(Y,mt),i=Math.imul(Y,gt),i=i+Math.imul(Q,mt)|0,c=Math.imul(Q,gt),l=l+Math.imul(K,yt)|0,i=i+Math.imul(K,vt)|0,i=i+Math.imul(X,yt)|0,c=c+Math.imul(X,vt)|0;var me=(g+l|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(me>>>26)|0,me&=67108863,l=Math.imul(Y,yt),i=Math.imul(Y,vt),i=i+Math.imul(Q,yt)|0,c=Math.imul(Q,vt);var ge=(g+l|0)+((i&8191)<<13)|0;return g=(c+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,m[0]=Qr,m[1]=jr,m[2]=te,m[3]=re,m[4]=ee,m[5]=ne,m[6]=ie,m[7]=oe,m[8]=se,m[9]=ae,m[10]=fe,m[11]=he,m[12]=ue,m[13]=le,m[14]=ce,m[15]=de,m[16]=pe,m[17]=me,m[18]=ge,g!==0&&(m[19]=g,f.length++),f};Math.imul||(Xt=Rt);function ur(p,t,s){s.negative=t.negative^p.negative,s.length=p.length+t.length;for(var f=0,h=0,u=0;u<s.length-1;u++){var m=h;h=0;for(var g=f&67108863,l=Math.min(u,t.length-1),i=Math.max(0,u-p.length+1);i<=l;i++){var c=u-i,w=p.words[c]|0,M=t.words[i]|0,_=w*M,E=_&67108863;m=m+(_/67108864|0)|0,E=E+g|0,g=E&67108863,m=m+(E>>>26)|0,h+=m>>>26,m&=67108863}s.words[u]=g,f=m,m=h}return f!==0?s.words[u]=f:s.length--,s._strip()}function lr(p,t,s){return ur(p,t,s)}n.prototype.mulTo=function(t,s){var f,h=this.length+t.length;return this.length===10&&t.length===10?f=Xt(this,t,s):h<63?f=Rt(this,t,s):h<1024?f=ur(this,t,s):f=lr(this,t,s),f};function wt(p,t){this.x=p,this.y=t}wt.prototype.makeRBT=function(t){for(var s=new Array(t),f=n.prototype._countBits(t)-1,h=0;h<t;h++)s[h]=this.revBin(h,f,t);return s},wt.prototype.revBin=function(t,s,f){if(t===0||t===f-1)return t;for(var h=0,u=0;u<s;u++)h|=(t&1)<<s-u-1,t>>=1;return h},wt.prototype.permute=function(t,s,f,h,u,m){for(var g=0;g<m;g++)h[g]=s[t[g]],u[g]=f[t[g]]},wt.prototype.transform=function(t,s,f,h,u,m){this.permute(m,t,s,f,h,u);for(var g=1;g<u;g<<=1)for(var l=g<<1,i=Math.cos(2*Math.PI/l),c=Math.sin(2*Math.PI/l),w=0;w<u;w+=l)for(var M=i,_=c,E=0;E<g;E++){var I=f[w+E],B=h[w+E],Qt=f[w+E+g],F=h[w+E+g],D=M*Qt-_*F;F=M*F+_*Qt,Qt=D,f[w+E]=I+Qt,h[w+E]=B+F,f[w+E+g]=I-Qt,h[w+E+g]=B-F,E!==l&&(D=i*M-c*_,_=i*_+c*M,M=D)}},wt.prototype.guessLen13b=function(t,s){var f=Math.max(s,t)|1,h=f&1,u=0;for(f=f/2|0;f;f=f>>>1)u++;return 1<<u+1+h},wt.prototype.conjugate=function(t,s,f){if(!(f<=1))for(var h=0;h<f/2;h++){var u=t[h];t[h]=t[f-h-1],t[f-h-1]=u,u=s[h],s[h]=-s[f-h-1],s[f-h-1]=-u}},wt.prototype.normalize13b=function(t,s){for(var f=0,h=0;h<s/2;h++){var u=Math.round(t[2*h+1]/s)*8192+Math.round(t[2*h]/s)+f;t[h]=u&67108863,u<67108864?f=0:f=u/67108864|0}return t},wt.prototype.convert13b=function(t,s,f,h){for(var u=0,m=0;m<s;m++)u=u+(t[m]|0),f[2*m]=u&8191,u=u>>>13,f[2*m+1]=u&8191,u=u>>>13;for(m=2*s;m<h;++m)f[m]=0;e(u===0),e((u&-8192)===0)},wt.prototype.stub=function(t){for(var s=new Array(t),f=0;f<t;f++)s[f]=0;return s},wt.prototype.mulp=function(t,s,f){var h=2*this.guessLen13b(t.length,s.length),u=this.makeRBT(h),m=this.stub(h),g=new Array(h),l=new Array(h),i=new Array(h),c=new Array(h),w=new Array(h),M=new Array(h),_=f.words;_.length=h,this.convert13b(t.words,t.length,g,h),this.convert13b(s.words,s.length,c,h),this.transform(g,m,l,i,h,u),this.transform(c,m,w,M,h,u);for(var E=0;E<h;E++){var I=l[E]*w[E]-i[E]*M[E];i[E]=l[E]*M[E]+i[E]*w[E],l[E]=I}return this.conjugate(l,i,h),this.transform(l,i,_,m,h,u),this.conjugate(_,m,h),this.normalize13b(_,h),f.negative=t.negative^s.negative,f.length=t.length+s.length,f._strip()},n.prototype.mul=function(t){var s=new n(null);return s.words=new Array(this.length+t.length),this.mulTo(t,s)},n.prototype.mulf=function(t){var s=new n(null);return s.words=new Array(this.length+t.length),lr(this,t,s)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){var s=t<0;s&&(t=-t),e(typeof t=="number"),e(t<67108864);for(var f=0,h=0;h<this.length;h++){var u=(this.words[h]|0)*t,m=(u&67108863)+(f&67108863);f>>=26,f+=u/67108864|0,f+=m>>>26,this.words[h]=m&67108863}return f!==0&&(this.words[h]=f,this.length++),s?this.ineg():this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var s=Tt(t);if(s.length===0)return new n(1);for(var f=this,h=0;h<s.length&&s[h]===0;h++,f=f.sqr());if(++h<s.length)for(var u=f.sqr();h<s.length;h++,u=u.sqr())s[h]!==0&&(f=f.mul(u));return f},n.prototype.iushln=function(t){e(typeof t=="number"&&t>=0);var s=t%26,f=(t-s)/26,h=67108863>>>26-s<<26-s,u;if(s!==0){var m=0;for(u=0;u<this.length;u++){var g=this.words[u]&h,l=(this.words[u]|0)-g<<s;this.words[u]=l|m,m=g>>>26-s}m&&(this.words[u]=m,this.length++)}if(f!==0){for(u=this.length-1;u>=0;u--)this.words[u+f]=this.words[u];for(u=0;u<f;u++)this.words[u]=0;this.length+=f}return this._strip()},n.prototype.ishln=function(t){return e(this.negative===0),this.iushln(t)},n.prototype.iushrn=function(t,s,f){e(typeof t=="number"&&t>=0);var h;s?h=(s-s%26)/26:h=0;var u=t%26,m=Math.min((t-u)/26,this.length),g=67108863^67108863>>>u<<u,l=f;if(h-=m,h=Math.max(0,h),l){for(var i=0;i<m;i++)l.words[i]=this.words[i];l.length=m}if(m!==0)if(this.length>m)for(this.length-=m,i=0;i<this.length;i++)this.words[i]=this.words[i+m];else this.words[0]=0,this.length=1;var c=0;for(i=this.length-1;i>=0&&(c!==0||i>=h);i--){var w=this.words[i]|0;this.words[i]=c<<26-u|w>>>u,c=w&g}return l&&c!==0&&(l.words[l.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(t,s,f){return e(this.negative===0),this.iushrn(t,s,f)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){e(typeof t=="number"&&t>=0);var s=t%26,f=(t-s)/26,h=1<<s;if(this.length<=f)return!1;var u=this.words[f];return!!(u&h)},n.prototype.imaskn=function(t){e(typeof t=="number"&&t>=0);var s=t%26,f=(t-s)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(s!==0&&f++,this.length=Math.min(f,this.length),s!==0){var h=67108863^67108863>>>s<<s;this.words[this.length-1]&=h}return this._strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return e(typeof t=="number"),e(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var s=0;s<this.length&&this.words[s]>=67108864;s++)this.words[s]-=67108864,s===this.length-1?this.words[s+1]=1:this.words[s+1]++;return this.length=Math.max(this.length,s+1),this},n.prototype.isubn=function(t){if(e(typeof t=="number"),e(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var s=0;s<this.length&&this.words[s]<0;s++)this.words[s]+=67108864,this.words[s+1]-=1;return this._strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,s,f){var h=t.length+f,u;this._expand(h);var m,g=0;for(u=0;u<t.length;u++){m=(this.words[u+f]|0)+g;var l=(t.words[u]|0)*s;m-=l&67108863,g=(m>>26)-(l/67108864|0),this.words[u+f]=m&67108863}for(;u<this.length-f;u++)m=(this.words[u+f]|0)+g,g=m>>26,this.words[u+f]=m&67108863;if(g===0)return this._strip();for(e(g===-1),g=0,u=0;u<this.length;u++)m=-(this.words[u]|0)+g,g=m>>26,this.words[u]=m&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(t,s){var f=this.length-t.length,h=this.clone(),u=t,m=u.words[u.length-1]|0,g=this._countBits(m);f=26-g,f!==0&&(u=u.ushln(f),h.iushln(f),m=u.words[u.length-1]|0);var l=h.length-u.length,i;if(s!=="mod"){i=new n(null),i.length=l+1,i.words=new Array(i.length);for(var c=0;c<i.length;c++)i.words[c]=0}var w=h.clone()._ishlnsubmul(u,1,l);w.negative===0&&(h=w,i&&(i.words[l]=1));for(var M=l-1;M>=0;M--){var _=(h.words[u.length+M]|0)*67108864+(h.words[u.length+M-1]|0);for(_=Math.min(_/m|0,67108863),h._ishlnsubmul(u,_,M);h.negative!==0;)_--,h.negative=0,h._ishlnsubmul(u,1,M),h.isZero()||(h.negative^=1);i&&(i.words[M]=_)}return i&&i._strip(),h._strip(),s!=="div"&&f!==0&&h.iushrn(f),{div:i||null,mod:h}},n.prototype.divmod=function(t,s,f){if(e(!t.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var h,u,m;return this.negative!==0&&t.negative===0?(m=this.neg().divmod(t,s),s!=="mod"&&(h=m.div.neg()),s!=="div"&&(u=m.mod.neg(),f&&u.negative!==0&&u.iadd(t)),{div:h,mod:u}):this.negative===0&&t.negative!==0?(m=this.divmod(t.neg(),s),s!=="mod"&&(h=m.div.neg()),{div:h,mod:m.mod}):(this.negative&t.negative)!==0?(m=this.neg().divmod(t.neg(),s),s!=="div"&&(u=m.mod.neg(),f&&u.negative!==0&&u.isub(t)),{div:m.div,mod:u}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:t.length===1?s==="div"?{div:this.divn(t.words[0]),mod:null}:s==="mod"?{div:null,mod:new n(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modrn(t.words[0]))}:this._wordDiv(t,s)},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var s=this.divmod(t);if(s.mod.isZero())return s.div;var f=s.div.negative!==0?s.mod.isub(t):s.mod,h=t.ushrn(1),u=t.andln(1),m=f.cmp(h);return m<0||u===1&&m===0?s.div:s.div.negative!==0?s.div.isubn(1):s.div.iaddn(1)},n.prototype.modrn=function(t){var s=t<0;s&&(t=-t),e(t<=67108863);for(var f=(1<<26)%t,h=0,u=this.length-1;u>=0;u--)h=(f*h+(this.words[u]|0))%t;return s?-h:h},n.prototype.modn=function(t){return this.modrn(t)},n.prototype.idivn=function(t){var s=t<0;s&&(t=-t),e(t<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var u=(this.words[h]|0)+f*67108864;this.words[h]=u/t|0,f=u%t}return this._strip(),s?this.ineg():this},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){e(t.negative===0),e(!t.isZero());var s=this,f=t.clone();s.negative!==0?s=s.umod(t):s=s.clone();for(var h=new n(1),u=new n(0),m=new n(0),g=new n(1),l=0;s.isEven()&&f.isEven();)s.iushrn(1),f.iushrn(1),++l;for(var i=f.clone(),c=s.clone();!s.isZero();){for(var w=0,M=1;(s.words[0]&M)===0&&w<26;++w,M<<=1);if(w>0)for(s.iushrn(w);w-- >0;)(h.isOdd()||u.isOdd())&&(h.iadd(i),u.isub(c)),h.iushrn(1),u.iushrn(1);for(var _=0,E=1;(f.words[0]&E)===0&&_<26;++_,E<<=1);if(_>0)for(f.iushrn(_);_-- >0;)(m.isOdd()||g.isOdd())&&(m.iadd(i),g.isub(c)),m.iushrn(1),g.iushrn(1);s.cmp(f)>=0?(s.isub(f),h.isub(m),u.isub(g)):(f.isub(s),m.isub(h),g.isub(u))}return{a:m,b:g,gcd:f.iushln(l)}},n.prototype._invmp=function(t){e(t.negative===0),e(!t.isZero());var s=this,f=t.clone();s.negative!==0?s=s.umod(t):s=s.clone();for(var h=new n(1),u=new n(0),m=f.clone();s.cmpn(1)>0&&f.cmpn(1)>0;){for(var g=0,l=1;(s.words[0]&l)===0&&g<26;++g,l<<=1);if(g>0)for(s.iushrn(g);g-- >0;)h.isOdd()&&h.iadd(m),h.iushrn(1);for(var i=0,c=1;(f.words[0]&c)===0&&i<26;++i,c<<=1);if(i>0)for(f.iushrn(i);i-- >0;)u.isOdd()&&u.iadd(m),u.iushrn(1);s.cmp(f)>=0?(s.isub(f),h.isub(u)):(f.isub(s),u.isub(h))}var w;return s.cmpn(1)===0?w=h:w=u,w.cmpn(0)<0&&w.iadd(t),w},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var s=this.clone(),f=t.clone();s.negative=0,f.negative=0;for(var h=0;s.isEven()&&f.isEven();h++)s.iushrn(1),f.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;f.isEven();)f.iushrn(1);var u=s.cmp(f);if(u<0){var m=s;s=f,f=m}else if(u===0||f.cmpn(1)===0)break;s.isub(f)}while(!0);return f.iushln(h)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){e(typeof t=="number");var s=t%26,f=(t-s)/26,h=1<<s;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var u=h,m=f;u!==0&&m<this.length;m++){var g=this.words[m]|0;g+=u,u=g>>>26,g&=67108863,this.words[m]=g}return u!==0&&(this.words[m]=u,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(t){var s=t<0;if(this.negative!==0&&!s)return-1;if(this.negative===0&&s)return 1;this._strip();var f;if(this.length>1)f=1;else{s&&(t=-t),e(t<=67108863,"Number is too big");var h=this.words[0]|0;f=h===t?0:h<t?-1:1}return this.negative!==0?-f|0:f},n.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var s=this.ucmp(t);return this.negative!==0?-s|0:s},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var s=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,u=t.words[f]|0;if(h!==u){h<u?s=-1:h>u&&(s=1);break}}return s},n.prototype.gtn=function(t){return this.cmpn(t)===1},n.prototype.gt=function(t){return this.cmp(t)===1},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return this.cmpn(t)===-1},n.prototype.lt=function(t){return this.cmp(t)===-1},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return this.cmpn(t)===0},n.prototype.eq=function(t){return this.cmp(t)===0},n.red=function(t){return new P(t)},n.prototype.toRed=function(t){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return e(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return e(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var Zt={k256:null,p224:null,p192:null,p25519:null};function bt(p,t){this.name=p,this.p=new n(t,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}bt.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},bt.prototype.ireduce=function(t){var s=t,f;do this.split(s,this.tmp),s=this.imulK(s),s=s.iadd(this.tmp),f=s.bitLength();while(f>this.n);var h=f<this.n?-1:s.ucmp(this.p);return h===0?(s.words[0]=0,s.length=1):h>0?s.isub(this.p):s.strip!==void 0?s.strip():s._strip(),s},bt.prototype.split=function(t,s){t.iushrn(this.n,0,s)},bt.prototype.imulK=function(t){return t.imul(this.k)};function Dt(){bt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Dt,bt),Dt.prototype.split=function(t,s){for(var f=4194303,h=Math.min(t.length,9),u=0;u<h;u++)s.words[u]=t.words[u];if(s.length=h,t.length<=9){t.words[0]=0,t.length=1;return}var m=t.words[9];for(s.words[s.length++]=m&f,u=10;u<t.length;u++){var g=t.words[u]|0;t.words[u-10]=(g&f)<<4|m>>>22,m=g}m>>>=22,t.words[u-10]=m,m===0&&t.length>10?t.length-=10:t.length-=9},Dt.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var s=0,f=0;f<t.length;f++){var h=t.words[f]|0;s+=h*977,t.words[f]=s&67108863,s=h*64+(s/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Yt(){bt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Yt,bt);function Or(){bt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Or,bt);function cr(){bt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(cr,bt),cr.prototype.imulK=function(t){for(var s=0,f=0;f<t.length;f++){var h=(t.words[f]|0)*19+s,u=h&67108863;h>>>=26,t.words[f]=u,s=h}return s!==0&&(t.words[t.length++]=s),t},n._prime=function(t){if(Zt[t])return Zt[t];var s;if(t==="k256")s=new Dt;else if(t==="p224")s=new Yt;else if(t==="p192")s=new Or;else if(t==="p25519")s=new cr;else throw new Error("Unknown prime "+t);return Zt[t]=s,s};function P(p){if(typeof p=="string"){var t=n._prime(p);this.m=t.p,this.prime=t}else e(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}P.prototype._verify1=function(t){e(t.negative===0,"red works only with positives"),e(t.red,"red works only with red numbers")},P.prototype._verify2=function(t,s){e((t.negative|s.negative)===0,"red works only with positives"),e(t.red&&t.red===s.red,"red works only with red numbers")},P.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(b(t,t.umod(this.m)._forceRed(this)),t)},P.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},P.prototype.add=function(t,s){this._verify2(t,s);var f=t.add(s);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},P.prototype.iadd=function(t,s){this._verify2(t,s);var f=t.iadd(s);return f.cmp(this.m)>=0&&f.isub(this.m),f},P.prototype.sub=function(t,s){this._verify2(t,s);var f=t.sub(s);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},P.prototype.isub=function(t,s){this._verify2(t,s);var f=t.isub(s);return f.cmpn(0)<0&&f.iadd(this.m),f},P.prototype.shl=function(t,s){return this._verify1(t),this.imod(t.ushln(s))},P.prototype.imul=function(t,s){return this._verify2(t,s),this.imod(t.imul(s))},P.prototype.mul=function(t,s){return this._verify2(t,s),this.imod(t.mul(s))},P.prototype.isqr=function(t){return this.imul(t,t.clone())},P.prototype.sqr=function(t){return this.mul(t,t)},P.prototype.sqrt=function(t){if(t.isZero())return t.clone();var s=this.m.andln(3);if(e(s%2===1),s===3){var f=this.m.add(new n(1)).iushrn(2);return this.pow(t,f)}for(var h=this.m.subn(1),u=0;!h.isZero()&&h.andln(1)===0;)u++,h.iushrn(1);e(!h.isZero());var m=new n(1).toRed(this),g=m.redNeg(),l=this.m.subn(1).iushrn(1),i=this.m.bitLength();for(i=new n(2*i*i).toRed(this);this.pow(i,l).cmp(g)!==0;)i.redIAdd(g);for(var c=this.pow(i,h),w=this.pow(t,h.addn(1).iushrn(1)),M=this.pow(t,h),_=u;M.cmp(m)!==0;){for(var E=M,I=0;E.cmp(m)!==0;I++)E=E.redSqr();e(I<_);var B=this.pow(c,new n(1).iushln(_-I-1));w=w.redMul(B),c=B.redSqr(),M=M.redMul(c),_=I}return w},P.prototype.invm=function(t){var s=t._invmp(this.m);return s.negative!==0?(s.negative=0,this.imod(s).redNeg()):this.imod(s)},P.prototype.pow=function(t,s){if(s.isZero())return new n(1).toRed(this);if(s.cmpn(1)===0)return t.clone();var f=4,h=new Array(1<<f);h[0]=new n(1).toRed(this),h[1]=t;for(var u=2;u<h.length;u++)h[u]=this.mul(h[u-1],t);var m=h[0],g=0,l=0,i=s.bitLength()%26;for(i===0&&(i=26),u=s.length-1;u>=0;u--){for(var c=s.words[u],w=i-1;w>=0;w--){var M=c>>w&1;if(m!==h[0]&&(m=this.sqr(m)),M===0&&g===0){l=0;continue}g<<=1,g|=M,l++,!(l!==f&&(u!==0||w!==0))&&(m=this.mul(m,h[g]),l=0,g=0)}i=26}return m},P.prototype.convertTo=function(t){var s=t.umod(this.m);return s===t?s.clone():s},P.prototype.convertFrom=function(t){var s=t.clone();return s.red=null,s},n.mont=function(t){return new Lt(t)};function Lt(p){P.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Lt,P),Lt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Lt.prototype.convertFrom=function(t){var s=this.imod(t.mul(this.rinv));return s.red=null,s},Lt.prototype.imul=function(t,s){if(t.isZero()||s.isZero())return t.words[0]=0,t.length=1,t;var f=t.imul(s),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=f.isub(h).iushrn(this.shift),m=u;return u.cmp(this.m)>=0?m=u.isub(this.m):u.cmpn(0)<0&&(m=u.iadd(this.m)),m._forceRed(this)},Lt.prototype.mul=function(t,s){if(t.isZero()||s.isZero())return new n(0)._forceRed(this);var f=t.mul(s),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=f.isub(h).iushrn(this.shift),m=u;return u.cmp(this.m)>=0?m=u.isub(this.m):u.cmpn(0)<0&&(m=u.iadd(this.m)),m._forceRed(this)},Lt.prototype.invm=function(t){var s=this.imod(t._invmp(this.m).mul(this.r2));return s._forceRed(this)}})(typeof be>"u"||be,vn)});var Ar=_t((Ya,Un)=>{Un.exports=Fn;function Fn(o,r){if(!o)throw new Error(r||"Assertion failed")}Fn.equal=function(r,e,a){if(r!=e)throw new Error(a||"Assertion failed: "+r+" != "+e)}});var Pn=_t((Qa,Te)=>{typeof Object.create=="function"?Te.exports=function(r,e){e&&(r.super_=e,r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:Te.exports=function(r,e){if(e){r.super_=e;var a=function(){};a.prototype=e.prototype,r.prototype=new a,r.prototype.constructor=r}}});var Dn=_t((ja,Ne)=>{try{if(Ee=nn("util"),typeof Ee.inherits!="function")throw"";Ne.exports=Ee.inherits}catch{Ne.exports=Pn()}var Ee});var Ft=_t(R=>{"use strict";var Ui=Ar(),Pi=Dn();R.inherits=Pi;function Di(o,r){return(o.charCodeAt(r)&64512)!==55296||r<0||r+1>=o.length?!1:(o.charCodeAt(r+1)&64512)===56320}function Li(o,r){if(Array.isArray(o))return o.slice();if(!o)return[];var e=[];if(typeof o=="string")if(r){if(r==="hex")for(o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o),n=0;n<o.length;n+=2)e.push(parseInt(o[n]+o[n+1],16))}else for(var a=0,n=0;n<o.length;n++){var d=o.charCodeAt(n);d<128?e[a++]=d:d<2048?(e[a++]=d>>6|192,e[a++]=d&63|128):Di(o,n)?(d=65536+((d&1023)<<10)+(o.charCodeAt(++n)&1023),e[a++]=d>>18|240,e[a++]=d>>12&63|128,e[a++]=d>>6&63|128,e[a++]=d&63|128):(e[a++]=d>>12|224,e[a++]=d>>6&63|128,e[a++]=d&63|128)}else for(n=0;n<o.length;n++)e[n]=o[n]|0;return e}R.toArray=Li;function ki(o){for(var r="",e=0;e<o.length;e++)r+=kn(o[e].toString(16));return r}R.toHex=ki;function Ln(o){var r=o>>>24|o>>>8&65280|o<<8&16711680|(o&255)<<24;return r>>>0}R.htonl=Ln;function Vi(o,r){for(var e="",a=0;a<o.length;a++){var n=o[a];r==="little"&&(n=Ln(n)),e+=Vn(n.toString(16))}return e}R.toHex32=Vi;function kn(o){return o.length===1?"0"+o:o}R.zero2=kn;function Vn(o){return o.length===7?"0"+o:o.length===6?"00"+o:o.length===5?"000"+o:o.length===4?"0000"+o:o.length===3?"00000"+o:o.length===2?"000000"+o:o.length===1?"0000000"+o:o}R.zero8=Vn;function qi(o,r,e,a){var n=e-r;Ui(n%4===0);for(var d=new Array(n/4),y=0,v=r;y<d.length;y++,v+=4){var x;a==="big"?x=o[v]<<24|o[v+1]<<16|o[v+2]<<8|o[v+3]:x=o[v+3]<<24|o[v+2]<<16|o[v+1]<<8|o[v],d[y]=x>>>0}return d}R.join32=qi;function Ji(o,r){for(var e=new Array(o.length*4),a=0,n=0;a<o.length;a++,n+=4){var d=o[a];r==="big"?(e[n]=d>>>24,e[n+1]=d>>>16&255,e[n+2]=d>>>8&255,e[n+3]=d&255):(e[n+3]=d>>>24,e[n+2]=d>>>16&255,e[n+1]=d>>>8&255,e[n]=d&255)}return e}R.split32=Ji;function zi(o,r){return o>>>r|o<<32-r}R.rotr32=zi;function $i(o,r){return o<<r|o>>>32-r}R.rotl32=$i;function Hi(o,r){return o+r>>>0}R.sum32=Hi;function Zi(o,r,e){return o+r+e>>>0}R.sum32_3=Zi;function Wi(o,r,e,a){return o+r+e+a>>>0}R.sum32_4=Wi;function Gi(o,r,e,a,n){return o+r+e+a+n>>>0}R.sum32_5=Gi;function Ki(o,r,e,a){var n=o[r],d=o[r+1],y=a+d>>>0,v=(y<a?1:0)+e+n;o[r]=v>>>0,o[r+1]=y}R.sum64=Ki;function Xi(o,r,e,a){var n=r+a>>>0,d=(n<r?1:0)+o+e;return d>>>0}R.sum64_hi=Xi;function Yi(o,r,e,a){var n=r+a;return n>>>0}R.sum64_lo=Yi;function Qi(o,r,e,a,n,d,y,v){var x=0,b=r;b=b+a>>>0,x+=b<r?1:0,b=b+d>>>0,x+=b<d?1:0,b=b+v>>>0,x+=b<v?1:0;var A=o+e+n+y+x;return A>>>0}R.sum64_4_hi=Qi;function ji(o,r,e,a,n,d,y,v){var x=r+a+d+v;return x>>>0}R.sum64_4_lo=ji;function to(o,r,e,a,n,d,y,v,x,b){var A=0,T=r;T=T+a>>>0,A+=T<r?1:0,T=T+d>>>0,A+=T<d?1:0,T=T+v>>>0,A+=T<v?1:0,T=T+b>>>0,A+=T<b?1:0;var O=o+e+n+y+x+A;return O>>>0}R.sum64_5_hi=to;function ro(o,r,e,a,n,d,y,v,x,b){var A=r+a+d+v+b;return A>>>0}R.sum64_5_lo=ro;function eo(o,r,e){var a=r<<32-e|o>>>e;return a>>>0}R.rotr64_hi=eo;function no(o,r,e){var a=o<<32-e|r>>>e;return a>>>0}R.rotr64_lo=no;function io(o,r,e){return o>>>e}R.shr64_hi=io;function oo(o,r,e){var a=o<<32-e|r>>>e;return a>>>0}R.shr64_lo=oo});var _r=_t(Jn=>{"use strict";var qn=Ft(),so=Ar();function Kr(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Jn.BlockHash=Kr;Kr.prototype.update=function(r,e){if(r=qn.toArray(r,e),this.pending?this.pending=this.pending.concat(r):this.pending=r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){r=this.pending;var a=r.length%this._delta8;this.pending=r.slice(r.length-a,r.length),this.pending.length===0&&(this.pending=null),r=qn.join32(r,0,r.length-a,this.endian);for(var n=0;n<r.length;n+=this._delta32)this._update(r,n,n+this._delta32)}return this};Kr.prototype.digest=function(r){return this.update(this._pad()),so(this.pending===null),this._digest(r)};Kr.prototype._pad=function(){var r=this.pendingTotal,e=this._delta8,a=e-(r+this.padLength)%e,n=new Array(a+this.padLength);n[0]=128;for(var d=1;d<a;d++)n[d]=0;if(r<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)n[d++]=0;n[d++]=0,n[d++]=0,n[d++]=0,n[d++]=0,n[d++]=r>>>24&255,n[d++]=r>>>16&255,n[d++]=r>>>8&255,n[d++]=r&255}else for(n[d++]=r&255,n[d++]=r>>>8&255,n[d++]=r>>>16&255,n[d++]=r>>>24&255,n[d++]=0,n[d++]=0,n[d++]=0,n[d++]=0,y=8;y<this.padLength;y++)n[d++]=0;return n}});var Ce=_t(Wt=>{"use strict";var ao=Ft(),Vt=ao.rotr32;function fo(o,r,e,a){if(o===0)return zn(r,e,a);if(o===1||o===3)return Hn(r,e,a);if(o===2)return $n(r,e,a)}Wt.ft_1=fo;function zn(o,r,e){return o&r^~o&e}Wt.ch32=zn;function $n(o,r,e){return o&r^o&e^r&e}Wt.maj32=$n;function Hn(o,r,e){return o^r^e}Wt.p32=Hn;function ho(o){return Vt(o,2)^Vt(o,13)^Vt(o,22)}Wt.s0_256=ho;function uo(o){return Vt(o,6)^Vt(o,11)^Vt(o,25)}Wt.s1_256=uo;function lo(o){return Vt(o,7)^Vt(o,18)^o>>>3}Wt.g0_256=lo;function co(o){return Vt(o,17)^Vt(o,19)^o>>>10}Wt.g1_256=co});var Gn=_t((n0,Wn)=>{"use strict";var Tr=Ft(),po=_r(),mo=Ce(),Ie=Tr.rotl32,Vr=Tr.sum32,go=Tr.sum32_5,yo=mo.ft_1,Zn=po.BlockHash,vo=[1518500249,1859775393,2400959708,3395469782];function qt(){if(!(this instanceof qt))return new qt;Zn.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Tr.inherits(qt,Zn);Wn.exports=qt;qt.blockSize=512;qt.outSize=160;qt.hmacStrength=80;qt.padLength=64;qt.prototype._update=function(r,e){for(var a=this.W,n=0;n<16;n++)a[n]=r[e+n];for(;n<a.length;n++)a[n]=Ie(a[n-3]^a[n-8]^a[n-14]^a[n-16],1);var d=this.h[0],y=this.h[1],v=this.h[2],x=this.h[3],b=this.h[4];for(n=0;n<a.length;n++){var A=~~(n/20),T=go(Ie(d,5),yo(A,y,v,x),b,a[n],vo[A]);b=x,x=v,v=Ie(y,30),y=d,d=T}this.h[0]=Vr(this.h[0],d),this.h[1]=Vr(this.h[1],y),this.h[2]=Vr(this.h[2],v),this.h[3]=Vr(this.h[3],x),this.h[4]=Vr(this.h[4],b)};qt.prototype._digest=function(r){return r==="hex"?Tr.toHex32(this.h,"big"):Tr.split32(this.h,"big")}});var Oe=_t((i0,Xn)=>{"use strict";var Er=Ft(),xo=_r(),Nr=Ce(),bo=Ar(),Ut=Er.sum32,wo=Er.sum32_4,Mo=Er.sum32_5,Ao=Nr.ch32,_o=Nr.maj32,To=Nr.s0_256,Eo=Nr.s1_256,No=Nr.g0_256,Co=Nr.g1_256,Kn=xo.BlockHash,Io=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Jt(){if(!(this instanceof Jt))return new Jt;Kn.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Io,this.W=new Array(64)}Er.inherits(Jt,Kn);Xn.exports=Jt;Jt.blockSize=512;Jt.outSize=256;Jt.hmacStrength=192;Jt.padLength=64;Jt.prototype._update=function(r,e){for(var a=this.W,n=0;n<16;n++)a[n]=r[e+n];for(;n<a.length;n++)a[n]=wo(Co(a[n-2]),a[n-7],No(a[n-15]),a[n-16]);var d=this.h[0],y=this.h[1],v=this.h[2],x=this.h[3],b=this.h[4],A=this.h[5],T=this.h[6],O=this.h[7];for(bo(this.k.length===a.length),n=0;n<a.length;n++){var C=Mo(O,Eo(b),Ao(b,A,T),this.k[n],a[n]),S=Ut(To(d),_o(d,y,v));O=T,T=A,A=b,b=Ut(x,C),x=v,v=y,y=d,d=Ut(C,S)}this.h[0]=Ut(this.h[0],d),this.h[1]=Ut(this.h[1],y),this.h[2]=Ut(this.h[2],v),this.h[3]=Ut(this.h[3],x),this.h[4]=Ut(this.h[4],b),this.h[5]=Ut(this.h[5],A),this.h[6]=Ut(this.h[6],T),this.h[7]=Ut(this.h[7],O)};Jt.prototype._digest=function(r){return r==="hex"?Er.toHex32(this.h,"big"):Er.split32(this.h,"big")}});var jn=_t((o0,Qn)=>{"use strict";var Re=Ft(),Yn=Oe();function Gt(){if(!(this instanceof Gt))return new Gt;Yn.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Re.inherits(Gt,Yn);Qn.exports=Gt;Gt.blockSize=512;Gt.outSize=224;Gt.hmacStrength=192;Gt.padLength=64;Gt.prototype._digest=function(r){return r==="hex"?Re.toHex32(this.h.slice(0,7),"big"):Re.split32(this.h.slice(0,7),"big")}});var Fe=_t((s0,ni)=>{"use strict";var Ct=Ft(),Oo=_r(),Ro=Ar(),zt=Ct.rotr64_hi,$t=Ct.rotr64_lo,ti=Ct.shr64_hi,ri=Ct.shr64_lo,nr=Ct.sum64,Se=Ct.sum64_hi,Be=Ct.sum64_lo,So=Ct.sum64_4_hi,Bo=Ct.sum64_4_lo,Fo=Ct.sum64_5_hi,Uo=Ct.sum64_5_lo,ei=Oo.BlockHash,Po=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Pt(){if(!(this instanceof Pt))return new Pt;ei.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Po,this.W=new Array(160)}Ct.inherits(Pt,ei);ni.exports=Pt;Pt.blockSize=1024;Pt.outSize=512;Pt.hmacStrength=192;Pt.padLength=128;Pt.prototype._prepareBlock=function(r,e){for(var a=this.W,n=0;n<32;n++)a[n]=r[e+n];for(;n<a.length;n+=2){var d=Wo(a[n-4],a[n-3]),y=Go(a[n-4],a[n-3]),v=a[n-14],x=a[n-13],b=Ho(a[n-30],a[n-29]),A=Zo(a[n-30],a[n-29]),T=a[n-32],O=a[n-31];a[n]=So(d,y,v,x,b,A,T,O),a[n+1]=Bo(d,y,v,x,b,A,T,O)}};Pt.prototype._update=function(r,e){this._prepareBlock(r,e);var a=this.W,n=this.h[0],d=this.h[1],y=this.h[2],v=this.h[3],x=this.h[4],b=this.h[5],A=this.h[6],T=this.h[7],O=this.h[8],C=this.h[9],S=this.h[10],Tt=this.h[11],Rt=this.h[12],Xt=this.h[13],ur=this.h[14],lr=this.h[15];Ro(this.k.length===a.length);for(var wt=0;wt<a.length;wt+=2){var Zt=ur,bt=lr,Dt=zo(O,C),Yt=$o(O,C),Or=Do(O,C,S,Tt,Rt,Xt),cr=Lo(O,C,S,Tt,Rt,Xt),P=this.k[wt],Lt=this.k[wt+1],p=a[wt],t=a[wt+1],s=Fo(Zt,bt,Dt,Yt,Or,cr,P,Lt,p,t),f=Uo(Zt,bt,Dt,Yt,Or,cr,P,Lt,p,t);Zt=qo(n,d),bt=Jo(n,d),Dt=ko(n,d,y,v,x,b),Yt=Vo(n,d,y,v,x,b);var h=Se(Zt,bt,Dt,Yt),u=Be(Zt,bt,Dt,Yt);ur=Rt,lr=Xt,Rt=S,Xt=Tt,S=O,Tt=C,O=Se(A,T,s,f),C=Be(T,T,s,f),A=x,T=b,x=y,b=v,y=n,v=d,n=Se(s,f,h,u),d=Be(s,f,h,u)}nr(this.h,0,n,d),nr(this.h,2,y,v),nr(this.h,4,x,b),nr(this.h,6,A,T),nr(this.h,8,O,C),nr(this.h,10,S,Tt),nr(this.h,12,Rt,Xt),nr(this.h,14,ur,lr)};Pt.prototype._digest=function(r){return r==="hex"?Ct.toHex32(this.h,"big"):Ct.split32(this.h,"big")};function Do(o,r,e,a,n){var d=o&e^~o&n;return d<0&&(d+=4294967296),d}function Lo(o,r,e,a,n,d){var y=r&a^~r&d;return y<0&&(y+=4294967296),y}function ko(o,r,e,a,n){var d=o&e^o&n^e&n;return d<0&&(d+=4294967296),d}function Vo(o,r,e,a,n,d){var y=r&a^r&d^a&d;return y<0&&(y+=4294967296),y}function qo(o,r){var e=zt(o,r,28),a=zt(r,o,2),n=zt(r,o,7),d=e^a^n;return d<0&&(d+=4294967296),d}function Jo(o,r){var e=$t(o,r,28),a=$t(r,o,2),n=$t(r,o,7),d=e^a^n;return d<0&&(d+=4294967296),d}function zo(o,r){var e=zt(o,r,14),a=zt(o,r,18),n=zt(r,o,9),d=e^a^n;return d<0&&(d+=4294967296),d}function $o(o,r){var e=$t(o,r,14),a=$t(o,r,18),n=$t(r,o,9),d=e^a^n;return d<0&&(d+=4294967296),d}function Ho(o,r){var e=zt(o,r,1),a=zt(o,r,8),n=ti(o,r,7),d=e^a^n;return d<0&&(d+=4294967296),d}function Zo(o,r){var e=$t(o,r,1),a=$t(o,r,8),n=ri(o,r,7),d=e^a^n;return d<0&&(d+=4294967296),d}function Wo(o,r){var e=zt(o,r,19),a=zt(r,o,29),n=ti(o,r,6),d=e^a^n;return d<0&&(d+=4294967296),d}function Go(o,r){var e=$t(o,r,19),a=$t(r,o,29),n=ri(o,r,6),d=e^a^n;return d<0&&(d+=4294967296),d}});var si=_t((a0,oi)=>{"use strict";var Ue=Ft(),ii=Fe();function Kt(){if(!(this instanceof Kt))return new Kt;ii.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ue.inherits(Kt,ii);oi.exports=Kt;Kt.blockSize=1024;Kt.outSize=384;Kt.hmacStrength=192;Kt.padLength=128;Kt.prototype._digest=function(r){return r==="hex"?Ue.toHex32(this.h.slice(0,12),"big"):Ue.split32(this.h.slice(0,12),"big")}});var ai=_t(Cr=>{"use strict";Cr.sha1=Gn();Cr.sha224=jn();Cr.sha256=Oe();Cr.sha384=si();Cr.sha512=Fe()});var di=_t(ci=>{"use strict";var fr=Ft(),Ko=_r(),Xr=fr.rotl32,fi=fr.sum32,qr=fr.sum32_3,hi=fr.sum32_4,li=Ko.BlockHash;function Ht(){if(!(this instanceof Ht))return new Ht;li.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}fr.inherits(Ht,li);ci.ripemd160=Ht;Ht.blockSize=512;Ht.outSize=160;Ht.hmacStrength=192;Ht.padLength=64;Ht.prototype._update=function(r,e){for(var a=this.h[0],n=this.h[1],d=this.h[2],y=this.h[3],v=this.h[4],x=a,b=n,A=d,T=y,O=v,C=0;C<80;C++){var S=fi(Xr(hi(a,ui(C,n,d,y),r[Qo[C]+e],Xo(C)),ts[C]),v);a=v,v=y,y=Xr(d,10),d=n,n=S,S=fi(Xr(hi(x,ui(79-C,b,A,T),r[jo[C]+e],Yo(C)),rs[C]),O),x=O,O=T,T=Xr(A,10),A=b,b=S}S=qr(this.h[1],d,T),this.h[1]=qr(this.h[2],y,O),this.h[2]=qr(this.h[3],v,x),this.h[3]=qr(this.h[4],a,b),this.h[4]=qr(this.h[0],n,A),this.h[0]=S};Ht.prototype._digest=function(r){return r==="hex"?fr.toHex32(this.h,"little"):fr.split32(this.h,"little")};function ui(o,r,e,a){return o<=15?r^e^a:o<=31?r&e|~r&a:o<=47?(r|~e)^a:o<=63?r&a|e&~a:r^(e|~a)}function Xo(o){return o<=15?0:o<=31?1518500249:o<=47?1859775393:o<=63?2400959708:2840853838}function Yo(o){return o<=15?1352829926:o<=31?1548603684:o<=47?1836072691:o<=63?2053994217:0}var Qo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],jo=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ts=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],rs=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var mi=_t((u0,pi)=>{"use strict";var es=Ft(),ns=Ar();function Ir(o,r,e){if(!(this instanceof Ir))return new Ir(o,r,e);this.Hash=o,this.blockSize=o.blockSize/8,this.outSize=o.outSize/8,this.inner=null,this.outer=null,this._init(es.toArray(r,e))}pi.exports=Ir;Ir.prototype._init=function(r){r.length>this.blockSize&&(r=new this.Hash().update(r).digest()),ns(r.length<=this.blockSize);for(var e=r.length;e<this.blockSize;e++)r.push(0);for(e=0;e<r.length;e++)r[e]^=54;for(this.inner=new this.Hash().update(r),e=0;e<r.length;e++)r[e]^=106;this.outer=new this.Hash().update(r)};Ir.prototype.update=function(r,e){return this.inner.update(r,e),this};Ir.prototype.digest=function(r){return this.outer.update(this.inner.digest()),this.outer.digest(r)}});var yi=_t(gi=>{var At=gi;At.utils=Ft();At.common=_r();At.sha=ai();At.ripemd=di();At.hmac=mi();At.sha1=At.sha.sha1;At.sha256=At.sha.sha256;At.sha224=At.sha.sha224;At.sha384=At.sha.sha384;At.sha512=At.sha.sha512;At.ripemd160=At.ripemd.ripemd160});var an="logger/5.7.0";var fn=!1,hn=!1,Jr={debug:1,default:2,info:2,warning:3,error:4,off:5},un=Jr.default,ye=null;function Ni(){try{let o=[];if(["NFD","NFC","NFKD","NFKC"].forEach(r=>{try{if("test".normalize(r)!=="test")throw new Error("bad normalize")}catch{o.push(r)}}),o.length)throw new Error("missing "+o.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(o){return o.message}return null}var ln=Ni(),ve;(function(o){o.DEBUG="DEBUG",o.INFO="INFO",o.WARNING="WARNING",o.ERROR="ERROR",o.OFF="OFF"})(ve||(ve={}));var St;(function(o){o.UNKNOWN_ERROR="UNKNOWN_ERROR",o.NOT_IMPLEMENTED="NOT_IMPLEMENTED",o.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",o.NETWORK_ERROR="NETWORK_ERROR",o.SERVER_ERROR="SERVER_ERROR",o.TIMEOUT="TIMEOUT",o.BUFFER_OVERRUN="BUFFER_OVERRUN",o.NUMERIC_FAULT="NUMERIC_FAULT",o.MISSING_NEW="MISSING_NEW",o.INVALID_ARGUMENT="INVALID_ARGUMENT",o.MISSING_ARGUMENT="MISSING_ARGUMENT",o.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",o.CALL_EXCEPTION="CALL_EXCEPTION",o.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",o.NONCE_EXPIRED="NONCE_EXPIRED",o.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",o.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",o.TRANSACTION_REPLACED="TRANSACTION_REPLACED",o.ACTION_REJECTED="ACTION_REJECTED"})(St||(St={}));var cn="0123456789abcdef",N=class{constructor(r){Object.defineProperty(this,"version",{enumerable:!0,value:r,writable:!1})}_log(r,e){let a=r.toLowerCase();Jr[a]==null&&this.throwArgumentError("invalid log level name","logLevel",r),!(un>Jr[a])&&console.log.apply(console,e)}debug(...r){this._log(N.levels.DEBUG,r)}info(...r){this._log(N.levels.INFO,r)}warn(...r){this._log(N.levels.WARNING,r)}makeError(r,e,a){if(hn)return this.makeError("censored error",e,{});e||(e=N.errors.UNKNOWN_ERROR),a||(a={});let n=[];Object.keys(a).forEach(x=>{let b=a[x];try{if(b instanceof Uint8Array){let A="";for(let T=0;T<b.length;T++)A+=cn[b[T]>>4],A+=cn[b[T]&15];n.push(x+"=Uint8Array(0x"+A+")")}else n.push(x+"="+JSON.stringify(b))}catch{n.push(x+"="+JSON.stringify(a[x].toString()))}}),n.push(`code=${e}`),n.push(`version=${this.version}`);let d=r,y="";switch(e){case St.NUMERIC_FAULT:{y="NUMERIC_FAULT";let x=r;switch(x){case"overflow":case"underflow":case"division-by-zero":y+="-"+x;break;case"negative-power":case"negative-width":y+="-unsupported";break;case"unbound-bitwise-result":y+="-unbound-result";break}break}case St.CALL_EXCEPTION:case St.INSUFFICIENT_FUNDS:case St.MISSING_NEW:case St.NONCE_EXPIRED:case St.REPLACEMENT_UNDERPRICED:case St.TRANSACTION_REPLACED:case St.UNPREDICTABLE_GAS_LIMIT:y=e;break}y&&(r+=" [ See: https://links.ethers.org/v5-errors-"+y+" ]"),n.length&&(r+=" ("+n.join(", ")+")");let v=new Error(r);return v.reason=d,v.code=e,Object.keys(a).forEach(function(x){v[x]=a[x]}),v}throwError(r,e,a){throw this.makeError(r,e,a)}throwArgumentError(r,e,a){return this.throwError(r,N.errors.INVALID_ARGUMENT,{argument:e,value:a})}assert(r,e,a,n){r||this.throwError(e,a,n)}assertArgument(r,e,a,n){r||this.throwArgumentError(e,a,n)}checkNormalize(r){r==null&&(r="platform missing String.prototype.normalize"),ln&&this.throwError("platform missing String.prototype.normalize",N.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ln})}checkSafeUint53(r,e){typeof r=="number"&&(e==null&&(e="value not safe"),(r<0||r>=9007199254740991)&&this.throwError(e,N.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(e,N.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}checkArgumentCount(r,e,a){a?a=": "+a:a="",r<e&&this.throwError("missing argument"+a,N.errors.MISSING_ARGUMENT,{count:r,expectedCount:e}),r>e&&this.throwError("too many arguments"+a,N.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:e})}checkNew(r,e){(r===Object||r==null)&&this.throwError("missing new",N.errors.MISSING_NEW,{name:e.name})}checkAbstract(r,e){r===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",N.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):(r===Object||r==null)&&this.throwError("missing new",N.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return ye||(ye=new N(an)),ye}static setCensorship(r,e){if(!r&&e&&this.globalLogger().throwError("cannot permanently disable censorship",N.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),fn){if(!r)return;this.globalLogger().throwError("error censorship permanent",N.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}hn=!!r,fn=!!e}static setLogLevel(r){let e=Jr[r.toLowerCase()];if(e==null){N.globalLogger().warn("invalid log level - "+r);return}un=e}static from(r){return new N(r)}};N.errors=St;N.levels=ve;var Ci=new N("0.21.0"),U=class{constructor(r,e,a){this.name=r,this.type=e,this.encodedLength=a}throwError(r,e){throw Ci.throwArgumentError(r,this.name,e),new Error("unreachable")}setOffset(r){this.offset=r}};var dn="bytes/5.7.0";var dr=new N(dn);function mn(o){return!!o.toHexString}function Br(o){return o.slice||(o.slice=function(){let r=Array.prototype.slice.call(arguments);return Br(new Uint8Array(Array.prototype.slice.apply(o,r)))}),o}function pn(o){return typeof o=="number"&&o==o&&o%1===0}function gn(o){if(o==null)return!1;if(o.constructor===Uint8Array)return!0;if(typeof o=="string"||!pn(o.length)||o.length<0)return!1;for(let r=0;r<o.length;r++){let e=o[r];if(!pn(e)||e<0||e>=256)return!1}return!0}function Et(o,r){if(r||(r={}),typeof o=="number"){dr.checkSafeUint53(o,"invalid arrayify value");let e=[];for(;o;)e.unshift(o&255),o=parseInt(String(o/256));return e.length===0&&e.push(0),Br(new Uint8Array(e))}if(r.allowMissingPrefix&&typeof o=="string"&&o.substring(0,2)!=="0x"&&(o="0x"+o),mn(o)&&(o=o.toHexString()),yn(o)){let e=o.substring(2);e.length%2&&(r.hexPad==="left"?e="0"+e:r.hexPad==="right"?e+="0":dr.throwArgumentError("hex data is odd-length","value",o));let a=[];for(let n=0;n<e.length;n+=2)a.push(parseInt(e.substring(n,n+2),16));return Br(new Uint8Array(a))}return gn(o)?Br(new Uint8Array(o)):dr.throwArgumentError("invalid arrayify value","value",o)}function xt(o){let r=o.map(n=>Et(n)),e=r.reduce((n,d)=>n+d.length,0),a=new Uint8Array(e);return r.reduce((n,d)=>(a.set(d,n),n+d.length),0),Br(a)}function yn(o,r){return!(typeof o!="string"||!o.match(/^0x[0-9A-Fa-f]*$/)||r&&o.length!==2+2*r)}var xe="0123456789abcdef";function Fr(o,r){if(r||(r={}),typeof o=="number"){dr.checkSafeUint53(o,"invalid hexlify value");let e="";for(;o;)e=xe[o&15]+e,o=Math.floor(o/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if(typeof o=="bigint")return o=o.toString(16),o.length%2?"0x0"+o:"0x"+o;if(r.allowMissingPrefix&&typeof o=="string"&&o.substring(0,2)!=="0x"&&(o="0x"+o),mn(o))return o.toHexString();if(yn(o))return o.length%2&&(r.hexPad==="left"?o="0x0"+o.substring(2):r.hexPad==="right"?o+="0":dr.throwArgumentError("hex data is odd-length","value",o)),o.toLowerCase();if(gn(o)){let e="0x";for(let a=0;a<o.length;a++){let n=o[a];e+=xe[(n&240)>>4]+xe[n&15]}return e}return dr.throwArgumentError("invalid hexlify value","value",o)}var pr=class extends U{constructor(e,a){super("array",`[${e.type}; ${a}]`,a*e.encodedLength);this.coder=e,this.length=a}encode(e){return Array.isArray(e)||this.throwError("expected array value",e),this.length!==e.length&&this.throwError("Types/values length mismatch",e),xt(Array.from(e).map(a=>this.coder.encode(a)))}decode(e,a){let n=a;return[Array(this.length).fill(0).map(()=>{let y;return[y,n]=this.coder.decode(e,n),y}),n]}};var Ur=on(xn());function bn(o,r){let{precision:e=3,minPrecision:a=1}=r||{},[n="0",d="0"]=String(o||"0.0").split("."),y=/(\d)(?=(\d{3})+\b)/g,v=n.replace(y,"$1,"),x=d.slice(0,e);if(a<e){let A=x.match(/.*[1-9]{1}/),T=(A==null?void 0:A[0].length)||0,O=Math.max(a,T);x=x.slice(0,O)}let b=x?`.${x}`:"";return`${v}${b}`}var L=class extends Ur.default{constructor(r,e,a){if(L.isBN(r)){super(r.toArray(),e,a);return}if(typeof r=="string"&&r.slice(0,2)==="0x"){super(r.substring(2),e||"hex",a);return}let n=r==null?0:r;super(n,e,a)}toString(r,e){let a=super.toString(r,e);return r===16||r==="hex"?`0x${a}`:a}toHex(r){let a=(r||0)*2;if(this.isNeg())throw new Error("cannot convert negative value to hex");if(r&&this.byteLength()>r)throw new Error(`value ${this} exceeds bytes ${r}`);return this.toString(16,a)}toBytes(r){if(this.isNeg())throw new Error("cannot convert negative value to Bytes");return Uint8Array.from(this.toArray(void 0,r))}toJSON(){return this.toString(16)}valueOf(){return this.toString()}format(r){let{units:e=9,precision:a=3,minPrecision:n=1}=r||{},d=this.formatUnits(e),y=bn(d,{precision:a,minPrecision:n});if(!parseFloat(y)){let[,v="0"]=d.split("."),x=v.match(/[1-9]/);if(x&&x.index&&x.index+1>a){let[b="0"]=y.split(".");return`${b}.${v.slice(0,x.index+1)}`}}return y}formatUnits(r=9){let e=this.toString().slice(0,r*-1),a=this.toString().slice(r*-1),n=a.length,d=Array.from({length:r-n}).fill("0").join("");return`${e?`${e}.`:"0."}${d}${a}`}add(r){return this.caller(r,"add")}pow(r){return this.caller(r,"pow")}sub(r){return this.caller(r,"sub")}div(r){return this.caller(r,"div")}mul(r){return this.caller(r,"mul")}mod(r){return this.caller(r,"mod")}divRound(r){return this.caller(r,"divRound")}lt(r){return this.caller(r,"lt")}lte(r){return this.caller(r,"lte")}gt(r){return this.caller(r,"gt")}gte(r){return this.caller(r,"gte")}eq(r){return this.caller(r,"eq")}cmp(r){return this.caller(r,"cmp")}sqr(){return new L(super.sqr().toArray())}neg(){return new L(super.neg().toArray())}abs(){return new L(super.abs().toArray())}toTwos(r){return new L(super.toTwos(r).toArray())}fromTwos(r){return new L(super.fromTwos(r).toArray())}caller(r,e){let a=super[e](new L(r));return L.isBN(a)?new L(a.toArray()):a}clone(){return new L(this.toArray())}mulTo(r,e){let a=new Ur.default(this.toArray()).mulTo(r,e);return new L(a.toArray())}egcd(r){let{a:e,b:a,gcd:n}=new Ur.default(this.toArray()).egcd(r);return{a:new L(e.toArray()),b:new L(a.toArray()),gcd:new L(n.toArray())}}divmod(r,e,a){let{div:n,mod:d}=new Ur.default(this.toArray()).divmod(new L(r),e,a);return{div:new L(n==null?void 0:n.toArray()),mod:new L(d==null?void 0:d.toArray())}}},Mt=(o,r,e)=>new L(o,r,e);Mt.parseUnits=(o,r=9)=>{let e=o==="."?"0.":o,[a="0",n="0"]=e.split("."),d=n.length;if(d>r)throw new Error("Decimal can't be bigger than the units");let y=Array.from({length:r}).fill("0");y.splice(0,d,n);let v=`${a.replace(",","")}${y.join("")}`;return Mt(v)};function zr(o){return Mt(o).toNumber()}function wn(o,r){return Mt(o).toHex(r)}function Bt(o,r){return Mt(o).toBytes(r)}var mr=class extends U{constructor(){super("b256","b256",32)}encode(r){let e;try{e=Et(r)}catch{this.throwError(`Invalid ${this.type}`,r)}return e.length!==32&&this.throwError(`Invalid ${this.type}`,r),e}decode(r,e){let a=r.slice(e,e+32);return Mt(a).isZero()&&(a=new Uint8Array(32)),a.length!==32&&this.throwError("Invalid size for b256",a),[wn(a,32),e+32]}};var jt=class extends U{constructor(){super("boolean","boolean",8)}encode(r){let e;try{e=Bt(r?1:0)}catch{this.throwError("Invalid bool",r)}return e.length>1&&this.throwError("Invalid bool",r),Bt(e,8)}decode(r,e){let a=Mt(r.slice(e,e+8));return a.isZero()?[!1,e+8]:(a.eq(Mt(1))||this.throwError("Invalid boolean value",a),[!0,e+8])}};var gr=class extends U{constructor(){super("byte","byte",8)}encode(r){let e;try{e=Bt(r,1)}catch{this.throwError("Invalid Byte",r)}return Bt(e,8)}decode(r,e){let a=r.slice(e,e+8),n=Mt(a);return n.gt(Mt(255))&&this.throwError("Invalid Byte",n),[Number(n),e+8]}};var It=class extends U{constructor(){super("u64","u64",8)}encode(r){let e;try{e=Bt(r,8)}catch{this.throwError(`Invalid ${this.type}`,r)}return e}decode(r,e){let a=r.slice(e,e+8);return a=a.slice(0,8),[Mt(a),e+8]}};var Pr,yr,tr=class extends U{constructor(e,a){let n=new It,d=Object.values(a).reduce((y,v)=>Math.max(y,v.encodedLength),0);super("enum",`enum ${e}`,n.encodedLength+d);Rr(this,Pr,void 0);Rr(this,yr,void 0);this.name=e,this.coders=a,Sr(this,Pr,n),Sr(this,yr,d)}encode(e){let[a,...n]=Object.keys(e);if(!a)throw new Error("A field for the case must be provided");if(n.length!==0)throw new Error("Only one field must be provided");let d=this.coders[a],y=Object.keys(this.coders).indexOf(a),v=d.encode(e[a]),x=new Uint8Array(sr(this,yr)-d.encodedLength);return xt([sr(this,Pr).encode(y),x,v])}decode(e,a){let n=a,d;[d,n]=new It().decode(e,n);let y=zr(d),v=Object.keys(this.coders)[y];if(!v)throw new Error(`Invalid caseIndex "${y}". Valid cases: ${Object.keys(this.coders)}`);let x=this.coders[v];return n+=sr(this,yr)-x.encodedLength,[d,n]=x.decode(e,n),[{[v]:d},n]}};Pr=new WeakMap,yr=new WeakMap;var vr=class extends U{constructor(e){super("number",e,8);switch(this.baseType=e,e){case"u8":this.length=1;break;case"u16":this.length=2;break;case"u32":default:this.length=4;break}}encode(e){let a;try{a=Bt(e)}catch{this.throwError(`Invalid ${this.baseType}`,e)}return a.length>this.length&&this.throwError(`Invalid ${this.baseType}. Too many bytes.`,e),Bt(a,8)}decode(e,a){let n=e.slice(a,a+8);return n=n.slice(8-this.length,8),[zr(n),a+8]}};var Mn="strings/5.7.0";var An=new N(Mn),Dr;(function(o){o.current="",o.NFC="NFC",o.NFD="NFD",o.NFKC="NFKC",o.NFKD="NFKD"})(Dr||(Dr={}));var Nt;(function(o){o.UNEXPECTED_CONTINUE="unexpected continuation byte",o.BAD_PREFIX="bad codepoint prefix",o.OVERRUN="string overrun",o.MISSING_CONTINUE="missing continuation byte",o.OUT_OF_RANGE="out of UTF-8 range",o.UTF16_SURROGATE="UTF-16 surrogate",o.OVERLONG="overlong representation"})(Nt||(Nt={}));function Ii(o,r,e,a,n){return An.throwArgumentError(`invalid codepoint at offset ${r}; ${o}`,"bytes",e)}function _n(o,r,e,a,n){if(o===Nt.BAD_PREFIX||o===Nt.UNEXPECTED_CONTINUE){let d=0;for(let y=r+1;y<e.length&&e[y]>>6===2;y++)d++;return d}return o===Nt.OVERRUN?e.length-r-1:0}function Oi(o,r,e,a,n){return o===Nt.OVERLONG?(a.push(n),0):(a.push(65533),_n(o,r,e,a,n))}var Tn=Object.freeze({error:Ii,ignore:_n,replace:Oi});function Ri(o,r){r==null&&(r=Tn.error),o=Et(o);let e=[],a=0;for(;a<o.length;){let n=o[a++];if(n>>7===0){e.push(n);continue}let d=null,y=null;if((n&224)===192)d=1,y=127;else if((n&240)===224)d=2,y=2047;else if((n&248)===240)d=3,y=65535;else{(n&192)===128?a+=r(Nt.UNEXPECTED_CONTINUE,a-1,o,e):a+=r(Nt.BAD_PREFIX,a-1,o,e);continue}if(a-1+d>=o.length){a+=r(Nt.OVERRUN,a-1,o,e);continue}let v=n&(1<<8-d-1)-1;for(let x=0;x<d;x++){let b=o[a];if((b&192)!=128){a+=r(Nt.MISSING_CONTINUE,a,o,e),v=null;break}v=v<<6|b&63,a++}if(v!==null){if(v>1114111){a+=r(Nt.OUT_OF_RANGE,a-1-d,o,e,v);continue}if(v>=55296&&v<=57343){a+=r(Nt.UTF16_SURROGATE,a-1-d,o,e,v);continue}if(v<=y){a+=r(Nt.OVERLONG,a-1-d,o,e,v);continue}e.push(v)}}return e}function xr(o,r=Dr.current){r!=Dr.current&&(An.checkNormalize(),o=o.normalize(r));let e=[];for(let a=0;a<o.length;a++){let n=o.charCodeAt(a);if(n<128)e.push(n);else if(n<2048)e.push(n>>6|192),e.push(n&63|128);else if((n&64512)==55296){a++;let d=o.charCodeAt(a);if(a>=o.length||(d&64512)!==56320)throw new Error("invalid utf-8 string");let y=65536+((n&1023)<<10)+(d&1023);e.push(y>>18|240),e.push(y>>12&63|128),e.push(y>>6&63|128),e.push(y&63|128)}else e.push(n>>12|224),e.push(n>>6&63|128),e.push(n&63|128)}return Et(e)}function Si(o){return o.map(r=>r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10&1023)+55296,(r&1023)+56320))).join("")}function _e(o,r){return Si(Ri(o,r))}var br,wr=class extends U{constructor(e){let a=(8-e)%8;a=a<0?a+8:a;super("string",`str[${e}]`,e+a);Rr(this,br,void 0);this.length=e,Sr(this,br,a)}encode(e){let a=xr(e.slice(0,this.length)),n=new Uint8Array(sr(this,br));return xt([a,n])}decode(e,a){let n=e.slice(a,a+this.length),d=_e(n),y=sr(this,br);return[d,a+this.length+y]}};br=new WeakMap;var ar=class extends tr{encode(r){return super.encode(this.toSwayOption(r))}toSwayOption(r){return r!==void 0?{Some:r}:{None:[]}}decode(r,e){let[a,n]=super.decode(r,e);return[this.toOption(a),n]}toOption(r){if(r&&"Some"in r)return r.Some}};var Mr=class extends U{constructor(e,a){let n=Object.values(a).reduce((d,y)=>d+y.encodedLength,0);super("struct",`struct ${e}`,n);this.name=e,this.coders=a}encode(e){let a=Object.keys(this.coders).map(n=>{let d=this.coders[n],y=e[n];return!(d instanceof ar)&&y==null&&this.throwError(`Invalid ${this.type}. Field "${n}" not present.`,e),d.encode(y)});return xt(a)}decode(e,a){let n=a;return[Object.keys(this.coders).reduce((y,v)=>{let x=this.coders[v],b;return[b,n]=x.decode(e,n),y[v]=b,y},{}),n]}};var rr=class extends U{constructor(e){let a=e.reduce((n,d)=>n+d.encodedLength,0);super("tuple",`(${e.map(n=>n.type).join(", ")})`,a);this.coders=e}encode(e){return this.coders.length!==e.length&&this.throwError("Types/values length mismatch",{value:e}),xt(this.coders.map((a,n)=>a.encode(e[n])))}decode(e,a){let n=a;return[this.coders.map(y=>{let v;return[v,n]=y.decode(e,n),v}),n]}};var $r="enum Option",En="struct Vec",Hr=/str\[(?<length>[0-9]+)\]/,Lr=/\[(?<item>[\w\s\\[\]]+);\s*(?<length>[0-9]+)\]/,Zr=/^struct (?<name>\w+)$/,Wr=/^enum (?<name>\w+)$/,Nn=/^\((?<items>.*)\)$/,Cn=/^generic (?<name>\w+)$/,In=8,_a=32,Ta=255,Ea=32,Na=32,Ca=10240,Ia=104;var Bi=3,kt=class extends U{constructor(e){super("struct","struct Vec",0);this.coder=e}static getBaseOffset(){return Bi*8}getEncodedVectorData(e){Array.isArray(e)||this.throwError("expected array value",e);let a=Array.from(e).map(n=>this.coder.encode(n));return xt(a)}encode(e){Array.isArray(e)||this.throwError("expected array value",e);let a=[],n=this.offset||0;return a.push(new It().encode(n)),a.push(new It().encode(e.length)),a.push(new It().encode(e.length)),xt(a)}decode(e,a){return this.throwError("unexpected Vec decode","not implemented"),[void 0,a]}};function kr(o){return o.filter(r=>(r==null?void 0:r.type)!=="()"&&r!=="()")}function On(o){return o.some(r=>(r==null?void 0:r.type)===$r)}function Rn(o,r,e=0){let a=[],n=o.map((v,x)=>{if(!(v instanceof kt))return{byteLength:v.encodedLength};let b=v.getEncodedVectorData(r[x]);return a.push(b),{vecByteLength:b.byteLength}}),d=a.length*kt.getBaseOffset()+e,y=o.map((v,x)=>v instanceof kt?n.reduce((b,A,T)=>"byteLength"in A?b+A.byteLength:T===0&&T===x?d:T<x?b+A.vecByteLength+d:b,0):0);return o.forEach((v,x)=>v.setOffset(y[x])),a}var Gr=class{constructor(r){this.inputs=[];this.outputs=[];this.type=r.type,this.name=r.name,this.inputs=r.inputs,this.outputs=r.outputs}};var Sn="properties/5.7.0";var za=new N(Sn);function Bn(o,r,e){Object.defineProperty(o,r,{enumerable:!0,value:e,writable:!1})}function Fi(o,r){Object.keys(r).forEach(e=>{let a=e,n=r[a];Bn(o,a,n)})}var Ot=class{constructor(r){Fi(this,r),this.isParamType=!0,Object.freeze(this)}getSignaturePrefix(){if(this.type){if(Zr.test(this.type))return"s";if(Lr.test(this.type))return"a";if(Wr.test(this.type))return"e"}return""}getSignatureContent(){var n,d;let r=this.type||"";if(r==="raw untyped ptr")return"rawptr";let e=(n=Lr.exec(r))==null?void 0:n.groups;if(e)return`[${this.components?this.components[0].getSighash():e.item};${e.length}]`;let a=(d=Hr.exec(r))==null?void 0:d.groups;if(a)return`str[${a.length}]`;if(Array.isArray(this.components)){let y=Array.isArray(this.typeArguments)?`<${this.typeArguments.map(x=>x.getSighash()).join(",")}>`:"",v=`(${this.components.map(x=>x.getSighash()).join(",")})`;return`${y}${v}`}return r}getSighash(){let r=this.getSignaturePrefix(),e=this.getSignatureContent();return`${r}${e}`}static fromObject(r){return Ot.isParamType(r)?r:new Ot({name:r.name,type:r.type,components:r.components?r.components.map(Ot.fromObject):void 0,typeArguments:r.typeArguments?r.typeArguments.map(Ot.fromObject):void 0})}static isParamType(r){return Boolean(r==null?void 0:r.isParamType)}};var er=class extends Gr{static fromObject(r){let{inputs:e=[],outputs:a=[]}=r,n={type:"function",name:r.name,inputs:e.map(Ot.fromObject),outputs:a.map(Ot.fromObject)};return new er(n)}getInputsSighash(){let r=this.inputs.map(e=>e.getSighash());return`${this.name}(${r.join(",")})`}};var xi=on(yi());var vi="sha2/5.7.0";var g0=new N(vi);function Pe(o){return"0x"+xi.default.sha256().update(Et(o)).digest("hex")}var Yr=new N("0.21.0"),ir=class{constructor(){Yr.checkNew(new.target,ir)}getCoder(r){var v,x,b,A,T,O;switch(r.type){case"u8":case"u16":case"u32":return new vr(r.type);case"u64":case"raw untyped ptr":return new It;case"bool":return new jt;case"byte":return new gr;case"b256":return new mr;default:}let e=(v=Lr.exec(r.type))==null?void 0:v.groups;if(e){let C=parseInt(e.length,10),S=(x=r.components)==null?void 0:x[0];if(!S)throw new Error("Expected array type to have an item component");let Tt=this.getCoder(S);return new pr(Tt,C)}let a=(b=Hr.exec(r.type))==null?void 0:b.groups;if(a){let C=parseInt(a.length,10);return new wr(C)}if(r.type===En&&Array.isArray(r.typeArguments)){let C=r.typeArguments[0];if(!C)throw new Error("Expected Vec type to have a type argument");let S=this.getCoder(C);return new kt(S)}let n=(A=Zr.exec(r.type))==null?void 0:A.groups;if(n&&Array.isArray(r.components)){let C=r.components.reduce((S,Tt)=>(S[Tt.name]=this.getCoder(Tt),S),{});return new Mr(n.name,C)}let d=(T=Wr.exec(r.type))==null?void 0:T.groups;if(d&&Array.isArray(r.components)){let C=r.components.reduce((Tt,Rt)=>(Tt[Rt.name]=this.getCoder(Rt),Tt),{});return r.type===$r?new ar(d.name,C):new tr(d.name,C)}if(((O=Nn.exec(r.type))==null?void 0:O.groups)&&Array.isArray(r.components)){let C=r.components.map(S=>this.getCoder(S));return new rr(C)}return Yr.throwArgumentError("Invalid type","type",r.type)}encode(r,e,a=0){let n=kr(r),d=e.slice();Array.isArray(e)&&n.length!==e.length&&(On(r)?(d.length=r.length,d.fill(void 0,e.length)):Yr.throwError("Types/values length mismatch",N.errors.INVALID_ARGUMENT,{count:{types:n.length,values:e.length},value:{types:r,values:e}}));let y=n.map(A=>this.getCoder(A)),v=Rn(y,d,a),b=new rr(y).encode(d);return xt([b,xt(v)])}decode(r,e){let a=Et(e),n=kr(r),d=A=>{A!==a.length&&Yr.throwError("Types/values length mismatch",N.errors.INVALID_ARGUMENT,{count:{types:n.length,values:a.length},value:{types:n,bytes:a}})};if(r.length===0||n.length===0){d(a.length?8:0);return}let y=n.map(A=>this.getCoder(A)),v=new rr(y),[x,b]=v.decode(a,0);return d(b),x}};var De=o=>!Array.isArray(o),hr=class{constructor(r){this.types=r.types,this.functions=r.functions,this.loggedTypes=r.loggedTypes}parseLoggedType(r){return Ot.fromObject(this.parseInput(r.loggedType))}parseInput(r,e=new Map){let a=this.types[r.type],n,d;if(!a)throw new Error(`${r.type} not found`);if(Array.isArray(r.typeArguments)&&(d=r.typeArguments.map(y=>this.parseInput(y,e))),Array.isArray(a.typeParameters)&&Array.isArray(d)&&a.typeParameters.forEach((y,v)=>{d!=null&&d[v]&&e.set(y,d[v])}),Array.isArray(a.components)&&(n=a.components.map(y=>this.parseInput(y,e))),Cn.test(a.type)){let y=e.get(a.typeId);if(y)return{...y,name:r.name}}return{type:a.type,name:r.name,typeArguments:d,components:n}}static unflatten(r){return De(r)?new hr(r).unflatten():r}unflattenLoggedTypes(){return this.loggedTypes.map(r=>({...r,abiFragmentType:[this.parseLoggedType(r)]}))}unflatten(){return this.functions.map(r=>({type:"function",name:r.name,inputs:(r.inputs||[]).map(e=>this.parseInput(e)),outputs:r.output?[this.parseInput(r.output)]:[]}))}},bi=o=>{switch(o){case"u8":case"u16":case"u32":case"u64":case"bool":return!1;default:return!0}};var Le=new N("0.21.0"),is=o=>{let r=[];return o.forEach(e=>{e.type==="function"&&r.push(er.fromObject(e))}),r},or=class{constructor(r){this.abi=De(r)?new hr(r):null,this.fragments=is(hr.unflatten(r)),this.types=this.abi?this.abi.types:[],this.loggedTypes=this.abi?this.abi.unflattenLoggedTypes():[],this.abiCoder=new ir,this.functions={},this.fragments.forEach(e=>{let a={};switch(e.type){case"function":a=this.functions;break;default:return}let n=e.getInputsSighash();if(a[n]){Le.warn(`duplicate definition - ${n}`);return}a[n]=e})}static getSighash(r){let e=typeof r=="string"?xr(r):xr(r.getInputsSighash());return xt([new Uint8Array(4),Et(Pe(e)).slice(0,4)])}getFunction(r){if(this.functions[r])return this.functions[r];let e=Object.values(this.functions).find(a=>Fr(or.getSighash(a))===r||a.name===r);return e||Le.throwArgumentError(`function ${r} not found.`,"data",e)}decodeFunctionData(r,e){let a=typeof r=="string"?this.getFunction(r):r,n=Et(e);return Fr(n.slice(0,8))!==Fr(or.getSighash(a))&&Le.throwArgumentError(`data signature does not match function ${a.name}.`,"data",Fr(n)),this.abiCoder.decode(a.inputs,n.slice(16))}encodeFunctionData(r,e,a=0){let n=typeof r=="string"?this.getFunction(r):r;if(!n)throw new Error("Fragment not found");let d=or.getSighash(n),y=kr(n.inputs);if(y.length===0)return d;let v=y.length>1||bi(y[0].type),x=this.abiCoder.encode(y,e,a);return xt([d,new jt().encode(v),x])}decodeFunctionResult(r,e){let a=typeof r=="string"?this.getFunction(r):r,n=Et(e);return this.abiCoder.decode(a.outputs,n)}decodeLog(r,e){let a=this.loggedTypes.find(n=>n.logId===e);if(!(a!=null&&a.abiFragmentType))throw new Error(`Log ID - ${e} unknown`);return this.abiCoder.decode(a.abiFragmentType,r)}encodeFunctionResult(r,e){let a=typeof r=="string"?this.getFunction(r):r;if(!a)throw new Error("Fragment not found");return this.abiCoder.encode(a.outputs,e)}};})();
//# sourceMappingURL=index.global.js.map