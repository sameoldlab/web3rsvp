import g from"bn.js";var c=3,B=1,f=9;function I(o,t){let{precision:r=3,minPrecision:e=1}=t||{},[s="0",u="0"]=String(o||"0.0").split("."),p=/(\d)(?=(\d{3})+\b)/g,m=s.replace(p,"$1,"),a=u.slice(0,r);if(e<r){let d=a.match(/.*[1-9]{1}/),h=(d==null?void 0:d[0].length)||0,y=Math.max(e,h);a=a.slice(0,y)}let b=a?`.${a}`:"";return`${m}${b}`}var n=class extends g{constructor(t,r,e){if(n.isBN(t)){super(t.toArray(),r,e);return}if(typeof t=="string"&&t.slice(0,2)==="0x"){super(t.substring(2),r||"hex",e);return}let s=t==null?0:t;super(s,r,e)}toString(t,r){let e=super.toString(t,r);return t===16||t==="hex"?`0x${e}`:e}toHex(t){let e=(t||0)*2;if(this.isNeg())throw new Error("cannot convert negative value to hex");if(t&&this.byteLength()>t)throw new Error(`value ${this} exceeds bytes ${t}`);return this.toString(16,e)}toBytes(t){if(this.isNeg())throw new Error("cannot convert negative value to Bytes");return Uint8Array.from(this.toArray(void 0,t))}toJSON(){return this.toString(16)}valueOf(){return this.toString()}format(t){let{units:r=9,precision:e=3,minPrecision:s=1}=t||{},u=this.formatUnits(r),p=I(u,{precision:e,minPrecision:s});if(!parseFloat(p)){let[,m="0"]=u.split("."),a=m.match(/[1-9]/);if(a&&a.index&&a.index+1>e){let[b="0"]=p.split(".");return`${b}.${m.slice(0,a.index+1)}`}}return p}formatUnits(t=9){let r=this.toString().slice(0,t*-1),e=this.toString().slice(t*-1),s=e.length,u=Array.from({length:t-s}).fill("0").join("");return`${r?`${r}.`:"0."}${u}${e}`}add(t){return this.caller(t,"add")}pow(t){return this.caller(t,"pow")}sub(t){return this.caller(t,"sub")}div(t){return this.caller(t,"div")}mul(t){return this.caller(t,"mul")}mod(t){return this.caller(t,"mod")}divRound(t){return this.caller(t,"divRound")}lt(t){return this.caller(t,"lt")}lte(t){return this.caller(t,"lte")}gt(t){return this.caller(t,"gt")}gte(t){return this.caller(t,"gte")}eq(t){return this.caller(t,"eq")}cmp(t){return this.caller(t,"cmp")}sqr(){return new n(super.sqr().toArray())}neg(){return new n(super.neg().toArray())}abs(){return new n(super.abs().toArray())}toTwos(t){return new n(super.toTwos(t).toArray())}fromTwos(t){return new n(super.fromTwos(t).toArray())}caller(t,r){let e=super[r](new n(t));return n.isBN(e)?new n(e.toArray()):e}clone(){return new n(this.toArray())}mulTo(t,r){let e=new g(this.toArray()).mulTo(t,r);return new n(e.toArray())}egcd(t){let{a:r,b:e,gcd:s}=new g(this.toArray()).egcd(t);return{a:new n(r.toArray()),b:new n(e.toArray()),gcd:new n(s.toArray())}}divmod(t,r,e){let{div:s,mod:u}=new g(this.toArray()).divmod(new n(t),r,e);return{div:new n(s==null?void 0:s.toArray()),mod:new n(u==null?void 0:u.toArray())}}},i=(o,t,r)=>new n(o,t,r);i.parseUnits=(o,t=9)=>{let r=o==="."?"0.":o,[e="0",s="0"]=r.split("."),u=s.length;if(u>t)throw new Error("Decimal can't be bigger than the units");let p=Array.from({length:t}).fill("0");p.splice(0,u,s);let m=`${e.replace(",","")}${p.join("")}`;return i(m)};function F(o){return i(o).toNumber()}function S(o,t){return i(o).toHex(t)}function R(o,t){return i(o).toBytes(t)}function O(o,t){return i(o).formatUnits(t)}function $(o,t){return i(o).format(t)}function L(...o){return o.reduce((t,r)=>i(r).gt(t)?i(r):t,i(0))}function H(...o){return i(Math.ceil(o.reduce((t,r)=>i(t).mul(r),i(1)).toNumber()))}export{n as BN,f as DECIMAL_UNITS,B as DEFAULT_MIN_PRECISION,c as DEFAULT_PRECISION,i as bn,$ as format,O as formatUnits,L as max,H as multiply,R as toBytes,I as toFixed,S as toHex,F as toNumber};
//# sourceMappingURL=index.mjs.map